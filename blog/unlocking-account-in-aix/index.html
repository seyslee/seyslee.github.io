<!doctype html><html lang=en dir=ltr class=scroll-smooth data-default-appearance=dark data-auto-appearance=false><head><meta charset=utf-8><meta http-equiv=content-language content="en"><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="ie=edge"><title>AIX 계정잠금 해제 &#183; seyslee</title><meta name=title content="AIX 계정잠금 해제 &#183; seyslee"><meta name=description content="seyslee"><link rel=canonical href=https://seyslee.github.io/blog/unlocking-account-in-aix/><link type=text/css rel=stylesheet href=/css/main.bundle.min.980311a18ad0b55ec626a015b02d8161dc5f9d2c385a9806100e43c16f86e2fd1b824521ff0017c49f7a84d11834247d5741e87d58473a289ef870e9f3d13c02.css integrity="sha512-mAMRoYrQtV7GJqAVsC2BYdxfnSw4WpgGEA5DwW+G4v0bgkUh/wAXxJ96hNEYNCR9V0HofVhHOiie+HDp89E8Ag=="><script type=text/javascript src=/js/appearance.min.12e98742cd283574d030a7fe55f29597df4ee214f7ff7075b4d19a64d046a602753c715295550be7899b661619cec89c679049d36c624681671a8013c1249896.js integrity="sha512-EumHQs0oNXTQMKf+VfKVl99O4hT3/3B1tNGaZNBGpgJ1PHFSlVUL54mbZhYZzsicZ5BJ02xiRoFnGoATwSSYlg=="></script>
<script defer type=text/javascript id=script-bundle src=/js/main.bundle.min.9ae0a991bb442898e9bc60cf318b4de3ff878325ff3821625a5564b32b2f66aec0e7f7d0e00ca3ac7df59d9f01c18c88b6bdd213184f86ac9ce06d7bdffbadf8.js integrity="sha512-muCpkbtEKJjpvGDPMYtN4/+HgyX/OCFiWlVksysvZq7A5/fQ4AyjrH31nZ8BwYyItr3SExhPhqyc4G173/ut+A==" data-copy=Copy data-copied=Copied></script>
<link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest href=/site.webmanifest><meta property="og:title" content="AIX 계정잠금 해제"><meta property="og:description" content="IBM AIX에서 잠긴 계정을 확인하고 잠금 해제하는 방법을 설명합니다."><meta property="og:type" content="article"><meta property="og:url" content="https://seyslee.github.io/blog/unlocking-account-in-aix/"><meta property="article:section" content="blog"><meta property="article:published_time" content="2021-10-20T21:04:15+09:00"><meta property="article:modified_time" content="2021-10-20T21:09:10+09:00"><meta property="og:site_name" content="seyslee"><meta name=twitter:card content="summary"><meta name=twitter:title content="AIX 계정잠금 해제"><meta name=twitter:description content="IBM AIX에서 잠긴 계정을 확인하고 잠금 해제하는 방법을 설명합니다."><script type=application/ld+json>[{"@context":"https://schema.org","@type":"Article","articleSection":"Blogs","name":"AIX 계정잠금 해제","headline":"AIX 계정잠금 해제","description":"IBM AIX에서 잠긴 계정을 확인하고 잠금 해제하는 방법을 설명합니다.","abstract":"개요 # IBM AIX에서 계정이 잠긴 여부를 확인하고 잠긴 계정을 해제할 수 있다.","inLanguage":"en","url":"https:\/\/seyslee.github.io\/blog\/unlocking-account-in-aix\/","author":{"@type":"Person","name":"Younsung Lee"},"copyrightYear":"2021","dateCreated":"2021-10-20T21:04:15\u002b09:00","datePublished":"2021-10-20T21:04:15\u002b09:00","dateModified":"2021-10-20T21:09:10\u002b09:00","keywords":["os","unix","aix"],"mainEntityOfPage":"true","wordCount":"350"}]</script><meta name=author content="Younsung Lee"><link href=mailto:ivecloudblack@gmail.com rel=me><link href=https://github.com/seyslee rel=me></head><body class="flex flex-col h-screen px-6 m-auto text-lg leading-7 bg-neutral text-neutral-900 sm:px-14 md:px-24 lg:px-32 dark:bg-neutral-800 dark:text-neutral max-w-7xl"><div id=the-top class="absolute flex self-center"><a class="px-3 py-1 text-sm -translate-y-8 rounded-b-lg bg-primary-200 dark:bg-neutral-600 focus:translate-y-0" href=#main-content><span class="font-bold ltr:pr-2 rtl:pl-2 text-primary-600 dark:text-primary-400">&darr;</span>Skip to main content</a></div><header class="flex justify-between py-6 font-semibold sm:items-center sm:py-10 text-neutral-900 dark:text-neutral print:hidden"><div><a class="decoration-primary-500 hover:underline hover:decoration-2 hover:underline-offset-2" rel=me href=/>seyslee</a></div><nav><ul class="flex flex-col list-none sm:flex-row"><li class="mb-1 ltr:text-right rtl:text-left sm:mb-0 ltr:sm:mr-7 ltr:sm:last:mr-0 rtl:sm:ml-7 rtl:sm:last:ml-0"><a class="decoration-primary-500 hover:underline hover:decoration-2 hover:underline-offset-2" href=/blog/ title=Blogs>post</a></li><li class="mb-1 ltr:text-right rtl:text-left sm:mb-0 ltr:sm:mr-7 ltr:sm:last:mr-0 rtl:sm:ml-7 rtl:sm:last:ml-0"><a class="decoration-primary-500 hover:underline hover:decoration-2 hover:underline-offset-2" href=/tags/ title=Tags>tag</a></li></ul></nav></header><div class=relative><main id=main-content class=grow><article><header class=max-w-prose><h1 class="mt-0 text-4xl font-extrabold text-neutral-900 dark:text-neutral">AIX 계정잠금 해제</h1><div class="mt-8 mb-12 text-base text-neutral-500 dark:text-neutral-400 print:hidden"><div class="flex flex-row flex-wrap items-center"><time datetime="2021-10-20 21:04:15 +0900 +0900">Oct 20, 2021</time><span class="px-2 text-primary-500">&#183;</span><time datetime="2021-10-20 21:09:10 +0900 +0900">Updated: Oct 20, 2021</time></div></div></header><section class="flex flex-col max-w-full mt-0 prose lg:flex-row dark:prose-invert"><div class="order-first px-0 lg:max-w-xs ltr:lg:pl-8 rtl:lg:pr-8 lg:order-last"><div class="ltr:pl-5 rtl:pr-5 toc lg:sticky lg:top-10 print:hidden"><details open class="mt-0 overflow-hidden rounded-lg rtl:pr-5 ltr:pl-5 ltr:-ml-5 rtl:-mr-5 lg:mt-3"><summary class="block py-1 text-lg font-semibold cursor-pointer rtl:pr-5 ltr:pl-5 ltr:-ml-5 rtl:-mr-5 text-neutral-800 dark:text-neutral-100 lg:hidden bg-neutral-100 dark:bg-neutral-700">Table of Contents</summary><div class="py-2 border-dotted ltr:border-l rtl:border-r rtl:pr-5 ltr:pl-5 ltr:-ml-5 rtl:-mr-5 border-neutral-300 dark:border-neutral-600"><nav id=TableOfContents><ul><li><a href=#개요>개요</a></li><li><a href=#증상>증상</a></li><li><a href=#환경>환경</a></li><li><a href=#해결방안>해결방안</a><ul><li><ul><li><a href=#1-로그인-실패회수-확인>1. 로그인 실패회수 확인</a></li><li><a href=#2-계정상태-확인>2. 계정상태 확인</a></li><li><a href=#3-로그인-실패회수-초기화>3. 로그인 실패회수 초기화</a></li><li><a href=#4-계정잠금-해제>4. 계정잠금 해제</a></li></ul></li></ul></li><li><a href=#추가정보>추가정보</a><ul><li><a href=#a-계정-잠그는-방법>A. 계정 잠그는 방법</a><ul><li><a href=#1-계정-잠금-실행>1. 계정 잠금 실행</a></li><li><a href=#2-계정상태-확인-1>2. 계정상태 확인</a></li></ul></li><li><a href=#b-계정-잠금-임계값-설정>B. 계정 잠금 임계값 설정</a><ul><li><a href=#1-user-설정파일-확인>1. user 설정파일 확인</a></li><li><a href=#2-계정-잠금-임계값-수정>2. 계정 잠금 임계값 수정</a></li></ul></li></ul></li></ul></nav></div></details></div></div><div class="min-w-0 min-h-0 max-w-prose"><h1 id=개요 class="relative group">개요 <span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#%ea%b0%9c%ec%9a%94 aria-label=Anchor>#</a></span></h1><p>IBM AIX에서 계정이 잠긴 여부를 확인하고 잠긴 계정을 해제할 수 있다.</p><br><h1 id=증상 class="relative group">증상 <span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#%ec%a6%9d%ec%83%81 aria-label=Anchor>#</a></span></h1><p>OS 계정이 잠겨서 원격 로그인(SSH)이 불가능한 상황</p><br><h1 id=환경 class="relative group">환경 <span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#%ed%99%98%ea%b2%bd aria-label=Anchor>#</a></span></h1><ul><li><strong>OS</strong> : IBM AIX 7.2.0.0</li><li><strong>Shell</strong> : ksh</li></ul><br><h1 id=해결방안 class="relative group">해결방안 <span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#%ed%95%b4%ea%b2%b0%eb%b0%a9%ec%95%88 aria-label=Anchor>#</a></span></h1><p>쉘에서 명령어를 실행해 계정의 잠금상태를 확인하고 잠금을 해제하면 된다.<br>계정 패스워드 제어와 관련된 작업이기 때문에 반드시 root 권한을 얻어 실행해야만 한다.</p><h3 id=1-로그인-실패회수-확인 class="relative group">1. 로그인 실패회수 확인 <span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#1-%eb%a1%9c%ea%b7%b8%ec%9d%b8-%ec%8b%a4%ed%8c%a8%ed%9a%8c%ec%88%98-%ed%99%95%ec%9d%b8 aria-label=Anchor>#</a></span></h3><p><strong>명령어 형식</strong></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ lsuser -a &lt;속성명&gt; &lt;계정명&gt;
</span></span></code></pre></div><br><p><strong>명령어 예시</strong></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ lsuser -a unsuccessful_login_count devuser1
</span></span><span class=line><span class=cl>devuser1 <span class=nv>unsuccessful_login_count</span><span class=o>=</span><span class=m>6</span>
</span></span></code></pre></div><p><code>devuser1</code> 계정에서 로그인을 6번 실패한 이력이 있다.</p><br><h3 id=2-계정상태-확인 class="relative group">2. 계정상태 확인 <span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#2-%ea%b3%84%ec%a0%95%ec%83%81%ed%83%9c-%ed%99%95%ec%9d%b8 aria-label=Anchor>#</a></span></h3><p><strong>명령어 형식</strong></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ lsuser -a &lt;속성명&gt; &lt;계정명&gt;
</span></span></code></pre></div><br><p><strong>명령어 예시</strong></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ lsuser -a account_locked devuser1
</span></span><span class=line><span class=cl>devuser1 <span class=nv>account_locked</span><span class=o>=</span><span class=nb>true</span>
</span></span></code></pre></div><p>devuser1 계정의 <code>account_locked</code> 값이 <code>true</code>이므로 계정이 잠긴 상태이다.</p><br><h3 id=3-로그인-실패회수-초기화 class="relative group">3. 로그인 실패회수 초기화 <span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#3-%eb%a1%9c%ea%b7%b8%ec%9d%b8-%ec%8b%a4%ed%8c%a8%ed%9a%8c%ec%88%98-%ec%b4%88%ea%b8%b0%ed%99%94 aria-label=Anchor>#</a></span></h3><p><code>devuser1</code> 계정의 로그인 실패회수(<code>unsuccessful_login_count</code>) 값을 0으로 설정하여 초기화한다.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ chsec -f /etc/security/lastlog -a <span class=nv>unsuccessful_login_count</span><span class=o>=</span><span class=m>0</span> -s devuser1
</span></span></code></pre></div><p><strong>명령어 옵션</strong><br><code>-f</code> : 파일명(File) 옵션<br><code>-a</code> : 속성 옵션(Attribute)<br><code>-s</code> : 계정명(Stanza)</p><br><h3 id=4-계정잠금-해제 class="relative group">4. 계정잠금 해제 <span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#4-%ea%b3%84%ec%a0%95%ec%9e%a0%ea%b8%88-%ed%95%b4%ec%a0%9c aria-label=Anchor>#</a></span></h3><p><strong>명령어 형식</strong></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ chuser &lt;속성명&gt;<span class=o>=</span>&lt;값&gt; &lt;계정명&gt;
</span></span></code></pre></div><p><strong>명령어 예시</strong></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ chuser <span class=nv>account_locked</span><span class=o>=</span><span class=nb>false</span> devuser1
</span></span><span class=line><span class=cl>devuser1 <span class=nv>account_locked</span><span class=o>=</span><span class=nb>false</span>
</span></span></code></pre></div><p><code>account_locked</code> 속성값을 <code>true</code>에서 <code>false</code>로 변경해서 devuser1 계정 잠금을 해제한다.</p><br><h1 id=추가정보 class="relative group">추가정보 <span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#%ec%b6%94%ea%b0%80%ec%a0%95%eb%b3%b4 aria-label=Anchor>#</a></span></h1><p>이 부분부터는 본문인 &lsquo;잠긴 OS 계정 풀기&rsquo; 메뉴얼과는 무관하나 알고 있으면 유용한 명령어이다.</p><br><h2 id=a-계정-잠그는-방법 class="relative group">A. 계정 잠그는 방법 <span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#a-%ea%b3%84%ec%a0%95-%ec%9e%a0%ea%b7%b8%eb%8a%94-%eb%b0%a9%eb%b2%95 aria-label=Anchor>#</a></span></h2><p>종종 서버의 보안강화를 목적으로 관리자가 장기간 사용하지 않는 운휴 계정을 잠금처리할 때 사용한다.</p><h3 id=1-계정-잠금-실행 class="relative group">1. 계정 잠금 실행 <span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#1-%ea%b3%84%ec%a0%95-%ec%9e%a0%ea%b8%88-%ec%8b%a4%ed%96%89 aria-label=Anchor>#</a></span></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ chuser <span class=nv>account_locked</span><span class=o>=</span><span class=nb>true</span> devuser1
</span></span></code></pre></div><br><h3 id=2-계정상태-확인-1 class="relative group">2. 계정상태 확인 <span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#2-%ea%b3%84%ec%a0%95%ec%83%81%ed%83%9c-%ed%99%95%ec%9d%b8-1 aria-label=Anchor>#</a></span></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ lsuser -a account_locked devuser1
</span></span><span class=line><span class=cl>devuser1 <span class=nv>account_locked</span><span class=o>=</span><span class=nb>true</span>
</span></span></code></pre></div><p><code>devuser1</code> 계정의 <code>account_locked</code> 값이 true이므로 현재 계정이 잠긴 상태이다.</p><br><h2 id=b-계정-잠금-임계값-설정 class="relative group">B. 계정 잠금 임계값 설정 <span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#b-%ea%b3%84%ec%a0%95-%ec%9e%a0%ea%b8%88-%ec%9e%84%ea%b3%84%ea%b0%92-%ec%84%a4%ec%a0%95 aria-label=Anchor>#</a></span></h2><p>무차별 대입 공격(brute-force attack)은 특정 암호를 풀기 위해 가능한 모든 값을 대입해 암호를 뚫는 공격 기법이다.<br>무작위 대입 공격을 방어하는 대표적인 방법은 서버 보안설정에서 계정 잠금 임계값을 설정하는 것이다.<br>아래는 AIX 서버에서 여러번 로그인 실패시 계정이 잠기는 설정방법이다.</p><h3 id=1-user-설정파일-확인 class="relative group">1. user 설정파일 확인 <span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#1-user-%ec%84%a4%ec%a0%95%ed%8c%8c%ec%9d%bc-%ed%99%95%ec%9d%b8 aria-label=Anchor>#</a></span></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ cat /etc/security/user
</span></span><span class=line><span class=cl><span class=o>[</span>...<span class=o>]</span>
</span></span><span class=line><span class=cl>default:
</span></span><span class=line><span class=cl>        <span class=nv>loginretries</span> <span class=o>=</span> <span class=m>0</span>
</span></span></code></pre></div><p><code>loginretries</code> : 계정 잠금 임계값 (계정 잠그기 전 로그인 시도 횟수)
<code>loginretries = 0</code>은 로그인 시도 가능 횟수가 무제한이며, 계정 잠금 임계값이 설정되지 않은 상태를 의미한다.</p><br><h3 id=2-계정-잠금-임계값-수정 class="relative group">2. 계정 잠금 임계값 수정 <span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#2-%ea%b3%84%ec%a0%95-%ec%9e%a0%ea%b8%88-%ec%9e%84%ea%b3%84%ea%b0%92-%ec%88%98%ec%a0%95 aria-label=Anchor>#</a></span></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ vi /etc/security/user
</span></span><span class=line><span class=cl><span class=o>[</span>...<span class=o>]</span>
</span></span><span class=line><span class=cl>default:
</span></span><span class=line><span class=cl>        <span class=nv>loginretries</span> <span class=o>=</span> <span class=m>5</span>
</span></span></code></pre></div><p>vi 편집기를 사용해서 <code>loginretries</code> 값을 0에서 5로 수정한다. 기본적<sup>default</sup>으로 모든 계정이 5번 로그인이 실패하면, 계정이 잠기게 된다.</p><p>작업 끝.</p></div></section><footer class="pt-8 max-w-prose print:hidden"><script src=https://utteranc.es/client.js repo=seyslee/seyslee.github.io issue-term=pathname label=blog-comment theme=github-dark crossorigin=anonymous async></script></footer></article></main><footer class="py-10 print:hidden"><div class="flex justify-between"><div><p class="text-sm text-neutral-500 dark:text-neutral-400">&copy;
2022
Younsung Lee</p></div></div></footer></div></body></html>