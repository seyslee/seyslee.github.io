<!doctype html><html lang=en dir=ltr class=scroll-smooth data-default-appearance=dark data-auto-appearance=true><head><meta charset=utf-8><meta http-equiv=content-language content="en"><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="ie=edge"><title>Kubernetes ì„¤ì¹˜ &#183; seyslee</title><meta name=title content="Kubernetes ì„¤ì¹˜ &#183; seyslee"><meta name=description content="seyslee"><link rel=canonical href=https://seyslee.github.io/blog/k8s/installing-k8s-on-mac/><link type=text/css rel=stylesheet href=/css/main.bundle.min.fff8ff4cdbe2bf80930c53b6e47a6d9826b914a8623246481ff09ff52ea48fcfb403d9ba1dc7bbc800a7ecb15298c468838a661dd8ebb3e9f46fdca239b38a30.css integrity="sha512-//j/TNviv4CTDFO25HptmCa5FKhiMkZIH/Cf9S6kj8+0A9m6Hce7yACn7LFSmMRog4pmHdjrs+n0b9yiObOKMA=="><script type=text/javascript src=/js/appearance.min.badab316c9287a5a42a843e4eb45da65bb3d194a5a0f5fa4a3e516160e67df0b8c65f4f19a8e146436e29d583699e6cb41d6bbe99e05e1dbaa877763bad9f8e2.js integrity="sha512-utqzFskoelpCqEPk60XaZbs9GUpaD1+ko+UWFg5n3wuMZfTxmo4UZDbinVg2mebLQda76Z4F4duqh3djutn44g=="></script>
<script defer type=text/javascript id=script-bundle src=/js/main.bundle.min.9947db70e5b36e741e53f8531bd734741b3fc7a688f7b5d749fc5433c48efc252f47bdf44e471570a550fc051b87712799014040e6349b38d64448b94e84e45a.js integrity="sha512-mUfbcOWzbnQeU/hTG9c0dBs/x6aI97XXSfxUM8SO/CUvR730TkcVcKVQ/AUbh3EnmQFAQOY0mzjWREi5ToTkWg==" data-copy=Copy data-copied=Copied></script>
<link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest href=/site.webmanifest><meta property="og:title" content="Kubernetes ì„¤ì¹˜"><meta property="og:description" content="macOSì—ì„œ kubernetes ì„¤ì¹˜, êµ¬ì¶•, í…ŒìŠ¤íŠ¸í•˜ëŠ” ë°©ë²•ì„ ì„¤ëª…í•©ë‹ˆë‹¤."><meta property="og:type" content="article"><meta property="og:url" content="https://seyslee.github.io/blog/k8s/installing-k8s-on-mac/"><meta property="article:section" content="blog"><meta property="article:published_time" content="2021-11-07T17:19:30+09:00"><meta property="article:modified_time" content="2021-11-08T01:21:25+09:00"><meta property="og:site_name" content="seyslee"><meta name=twitter:card content="summary"><meta name=twitter:title content="Kubernetes ì„¤ì¹˜"><meta name=twitter:description content="macOSì—ì„œ kubernetes ì„¤ì¹˜, êµ¬ì¶•, í…ŒìŠ¤íŠ¸í•˜ëŠ” ë°©ë²•ì„ ì„¤ëª…í•©ë‹ˆë‹¤."><script type=application/ld+json>[{"@context":"https://schema.org","@type":"Article","articleSection":"Blogs","name":"Kubernetes ì„¤ì¹˜","headline":"Kubernetes ì„¤ì¹˜","description":"macOSì—ì„œ kubernetes ì„¤ì¹˜, êµ¬ì¶•, í…ŒìŠ¤íŠ¸í•˜ëŠ” ë°©ë²•ì„ ì„¤ëª…í•©ë‹ˆë‹¤.","abstract":"ê°œìš” # macOS ë¡œì»¬í™˜ê²½ì—ì„œ Kubernetes ì‹¤ìŠµì„ í•  ìˆ˜ ìˆë„ë¡ ì¿ ë²„ë„¤í‹°ìŠ¤ ì„¤ì¹˜ ê³¼ì •ì„ ì„¤ëª…í•œë‹¤.","inLanguage":"en","url":"https:\/\/seyslee.github.io\/blog\/k8s\/installing-k8s-on-mac\/","author":{"@type":"Person","name":"Younsung Lee"},"copyrightYear":"2021","dateCreated":"2021-11-07T17:19:30\u002b09:00","datePublished":"2021-11-07T17:19:30\u002b09:00","dateModified":"2021-11-08T01:21:25\u002b09:00","keywords":["devops","kubernetes"],"mainEntityOfPage":"true","wordCount":"807"}]</script><meta name=author content="Younsung Lee"><link href=mailto:ivecloudblack@gmail.com rel=me><link href=https://github.com/seyslee rel=me></head><body class="flex flex-col h-screen px-6 m-auto text-lg leading-7 bg-neutral text-neutral-900 sm:px-14 md:px-24 lg:px-32 dark:bg-neutral-800 dark:text-neutral max-w-7xl"><div id=the-top class="absolute flex self-center"><a class="px-3 py-1 text-sm -translate-y-8 rounded-b-lg bg-primary-200 dark:bg-neutral-600 focus:translate-y-0" href=#main-content><span class="font-bold ltr:pr-2 rtl:pl-2 text-primary-600 dark:text-primary-400">&darr;</span>Skip to main content</a></div><header class="py-6 font-semibold sm:py-10 text-neutral-900 dark:text-neutral print:hidden"><nav class="flex justify-between"><div><a class="decoration-primary-500 hover:underline hover:decoration-2 hover:underline-offset-2" rel=me href=/>seyslee</a></div><ul class="flex flex-col list-none ltr:text-right rtl:text-left sm:flex-row"><li class="mb-1 sm:mb-0 ltr:sm:mr-7 ltr:sm:last:mr-0 rtl:sm:ml-7 rtl:sm:last:ml-0"><a class="decoration-primary-500 hover:underline hover:decoration-2 hover:underline-offset-2" href=/blog/ title=Blogs>post</a></li><li class="mb-1 sm:mb-0 ltr:sm:mr-7 ltr:sm:last:mr-0 rtl:sm:ml-7 rtl:sm:last:ml-0"><a class="decoration-primary-500 hover:underline hover:decoration-2 hover:underline-offset-2" href=/tags/ title=Tags>tag</a></li></ul></nav></header><div class="relative flex flex-col grow"><main id=main-content class=grow><article><header class=max-w-prose><h1 class="mt-0 text-4xl font-extrabold text-neutral-900 dark:text-neutral">Kubernetes ì„¤ì¹˜</h1><div class="mt-8 mb-12 text-base text-neutral-500 dark:text-neutral-400 print:hidden"><div class="flex flex-row flex-wrap items-center"><time datetime="2021-11-07 17:19:30 +0900 +0900">Nov 7, 2021</time></div><div class="my-1 text-xs text-neutral-500 dark:text-neutral-400"><a href=/tags/devops/ class="px-1 py-[1px] border rounded-md border-neutral-200 dark:border-neutral-600 hover:border-primary-300 hover:text-primary-700 dark:hover:border-primary-600 dark:hover:text-primary-400">devops</a>
<a href=/tags/kubernetes/ class="px-1 py-[1px] border rounded-md border-neutral-200 dark:border-neutral-600 hover:border-primary-300 hover:text-primary-700 dark:hover:border-primary-600 dark:hover:text-primary-400">kubernetes</a></div></div></header><section class="flex flex-col max-w-full mt-0 prose lg:flex-row dark:prose-invert"><div class="order-first px-0 lg:max-w-xs ltr:lg:pl-8 rtl:lg:pr-8 lg:order-last"><div class="ltr:pl-5 rtl:pr-5 toc lg:sticky lg:top-10 print:hidden"><details open class="mt-0 overflow-hidden rounded-lg rtl:pr-5 ltr:pl-5 ltr:-ml-5 rtl:-mr-5"><summary class="block py-1 text-lg font-semibold cursor-pointer rtl:pr-5 ltr:pl-5 ltr:-ml-5 rtl:-mr-5 text-neutral-800 dark:text-neutral-100 lg:hidden bg-neutral-100 dark:bg-neutral-700">Table of Contents</summary><div class="py-2 border-dotted ltr:border-l rtl:border-r rtl:pr-5 ltr:pl-5 ltr:-ml-5 rtl:-mr-5 border-neutral-300 dark:border-neutral-600"><nav id=TableOfContents><ul><li><a href=#ê°œìš”>ê°œìš”</a></li><li><a href=#í™˜ê²½>í™˜ê²½</a></li><li><a href=#ì ˆì°¨>ì ˆì°¨</a><ul><li><ul><li><a href=#1-docker-ì„¤ì¹˜>1. Docker ì„¤ì¹˜</a></li><li><a href=#2-kubernetes-í™œì„±í™”>2. kubernetes í™œì„±í™”</a></li><li><a href=#3-kubernetes-ìƒíƒœ-í™•ì¸>3. kubernetes ìƒíƒœ í™•ì¸</a></li><li><a href=#4-pod-ìŠ¤í™-ì‘ì„±>4. pod ìŠ¤í™ ì‘ì„±</a></li><li><a href=#5-pod-ë°°í¬>5. pod ë°°í¬</a></li><li><a href=#6-pod-ìƒíƒœí™•ì¸>6. pod ìƒíƒœí™•ì¸</a></li><li><a href=#7-ë°°í¬-ê²°ê³¼í™•ì¸>7. ë°°í¬ ê²°ê³¼í™•ì¸</a></li><li><a href=#8-pod-ì ‘ì†>8. pod ì ‘ì†</a></li><li><a href=#9-í¬ë“œ-ì‚­ì œ>9. í¬ë“œ ì‚­ì œ</a></li></ul></li></ul></li></ul></nav></div></details></div></div><div class="min-w-0 min-h-0 max-w-prose"><h1 id=ê°œìš” class="relative group">ê°œìš” <span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#%ea%b0%9c%ec%9a%94 aria-label=Anchor>#</a></span></h1><p>macOS ë¡œì»¬í™˜ê²½ì—ì„œ Kubernetes ì‹¤ìŠµì„ í•  ìˆ˜ ìˆë„ë¡ ì¿ ë²„ë„¤í‹°ìŠ¤ ì„¤ì¹˜ ê³¼ì •ì„ ì„¤ëª…í•œë‹¤.</p><br><h1 id=í™˜ê²½ class="relative group">í™˜ê²½ <span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#%ed%99%98%ea%b2%bd aria-label=Anchor>#</a></span></h1><ul><li><strong>Hardware</strong> : MacBook Pro (13", M1, 2020)</li><li><strong>OS</strong> : macOS Monterey 12.0.1</li><li><strong>íŒ¨í‚¤ì§€ ê´€ë¦¬ì</strong> : Homebrew 3.3.2</li><li><strong>Docker Desktop 4.1.1</strong> + <strong>Kubernetes v1.21.5</strong></li></ul><br><h1 id=ì ˆì°¨ class="relative group">ì ˆì°¨ <span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#%ec%a0%88%ec%b0%a8 aria-label=Anchor>#</a></span></h1><h3 id=1-docker-ì„¤ì¹˜ class="relative group">1. Docker ì„¤ì¹˜ <span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#1-docker-%ec%84%a4%ec%b9%98 aria-label=Anchor>#</a></span></h3><p>macOSìš© íŒ¨í‚¤ì§€ ê´€ë¦¬ìì¸ Homebrewë¥¼ ì´ìš©í•´ <code>docker</code>ë¥¼ ì„¤ì¹˜í•œë‹¤. ì¿ ë²„ë„¤í‹°ìŠ¤ë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•´ì„œëŠ” dockerë¥¼ ë¨¼ì € ì„¤ì¹˜í•´ì•¼í•œë‹¤.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ brew install --cask <span class=nv>docker</span>
</span></span><span class=line><span class=cl><span class=o>==</span>&gt; Downloading https://desktop.docker.com/mac/main/arm64/69879/Docker.dmg
</span></span><span class=line><span class=cl>Already downloaded: /Users/ive/Library/Caches/Homebrew/downloads/b5774f18ca8a6d3936c5174f91b93cb1a1a407daa784fe63d9b6300180c7b1ed--Docker.dmg
</span></span><span class=line><span class=cl><span class=o>==</span>&gt; Installing Cask <span class=nv>docker</span>
</span></span><span class=line><span class=cl><span class=o>==</span>&gt; Moving App <span class=s1>&#39;Docker.app&#39;</span> to <span class=s1>&#39;/Applications/Docker.app&#39;</span>
</span></span><span class=line><span class=cl><span class=o>==</span>&gt; Linking Binary <span class=s1>&#39;docker-compose.bash-completion&#39;</span> to <span class=s1>&#39;/opt/homebrew/etc/bash_c
</span></span></span><span class=line><span class=cl><span class=s1>==&gt; Linking Binary &#39;</span>docker.zsh-completion<span class=s1>&#39; to &#39;</span>/opt/homebrew/share/zsh/site-func
</span></span><span class=line><span class=cl><span class=o>==</span>&gt; Linking Binary <span class=s1>&#39;docker.fish-completion&#39;</span> to <span class=s1>&#39;/opt/homebrew/share/fish/vendor_
</span></span></span><span class=line><span class=cl><span class=s1>==&gt; Linking Binary &#39;</span>docker-compose.fish-completion<span class=s1>&#39; to &#39;</span>/opt/homebrew/share/fish
</span></span><span class=line><span class=cl><span class=o>==</span>&gt; Linking Binary <span class=s1>&#39;docker-compose.zsh-completion&#39;</span> to <span class=s1>&#39;/opt/homebrew/share/zsh/s
</span></span></span><span class=line><span class=cl><span class=s1>==&gt; Linking Binary &#39;</span>docker.bash-completion<span class=s1>&#39; to &#39;</span>/opt/homebrew/etc/bash_completio
</span></span><span class=line><span class=cl>ğŸº  docker was successfully installed!
</span></span></code></pre></div><p>docker ìµœì´ˆ ì„¤ì¹˜ì‹œ ì˜¤ë˜ê±¸ë¦¬ë‹ˆ ì¸ë‚´ì‹¬ì„ ê°–ê³  ê¸°ë‹¤ë¦°ë‹¤.</p><br><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ brew list --cask
</span></span><span class=line><span class=cl>docker                                   iterm2
</span></span></code></pre></div><p>cask ëª©ë¡ì— dockerê°€ ì„¤ì¹˜ë˜ì—ˆë‹¤.</p><br><p>ëŸ°ì¹˜íŒ¨ë“œì—ë„ Docker ì•„ì´ì½˜ì´ ìƒì„±ëë‹¤.</p><p><figure><img class="my-0 rounded-md" src=./0.png alt="ëŸ°ì¹˜íŒ¨ë“œì˜ ë„ì»¤ ì•„ì´ì½˜"></figure></p><br><h3 id=2-kubernetes-í™œì„±í™” class="relative group">2. kubernetes í™œì„±í™” <span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#2-kubernetes-%ed%99%9c%ec%84%b1%ed%99%94 aria-label=Anchor>#</a></span></h3><p>ë„ì»¤ê°€ ì •ìƒ ì„¤ì¹˜ë˜ì—ˆë‹¤ë©´ ìƒë‹¨ë°”ì— Docker Desktop ì•„ì´ì½˜ì´ ë‚˜íƒ€ë‚œë‹¤.</p><p><figure><img class="my-0 rounded-md" src=./1.png alt="ë„ì»¤ í™˜ê²½ì„¤ì •"></figure></p><ul><li>ìƒë‹¨ë°” Docker ì•„ì´ì½˜ í´ë¦­ â†’ í™˜ê²½ì„¤ì •(Preferences) í´ë¦­</li></ul><p><figure><img class="my-0 rounded-md" src=./2.png alt="ì¿ ë²„ë„¤í‹°ìŠ¤ í™œì„±í™”í•˜ê¸°"></figure></p><ul><li>Kubernetes â†’ Enable Kubernetes ì²´í¬ â†’ Apply & Restart</li></ul><br><h3 id=3-kubernetes-ìƒíƒœ-í™•ì¸ class="relative group">3. kubernetes ìƒíƒœ í™•ì¸ <span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#3-kubernetes-%ec%83%81%ed%83%9c-%ed%99%95%ec%9d%b8 aria-label=Anchor>#</a></span></h3><p><strong>í´ëŸ¬ìŠ¤í„° ì •ë³´ í™•ì¸</strong></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ kubectl cluster-info
</span></span><span class=line><span class=cl>Kubernetes control plane is running at https://kubernetes.docker.internal:6443
</span></span><span class=line><span class=cl>CoreDNS is running at https://kubernetes.docker.internal:6443/api/v1/namespaces/kube-system/services/kube-dns:dns/proxy
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>To further debug and diagnose cluster problems, use <span class=s1>&#39;kubectl cluster-info dump&#39;</span>.
</span></span></code></pre></div><br><p><strong>kubectl ë²„ì „ í™•ì¸</strong></p><p>kubectlì€ ì¿ ë²„ë„¤í‹°ìŠ¤ í´ëŸ¬ìŠ¤í„°ë¥¼ ì œì–´í•˜ê¸° ìœ„í•œ ì»¤ë§¨ë“œ ë¼ì¸ ë„êµ¬ì´ë‹¤.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ kubectl version
</span></span><span class=line><span class=cl>Client Version: version.Info<span class=o>{</span>Major:<span class=s2>&#34;1&#34;</span>, Minor:<span class=s2>&#34;22&#34;</span>, GitVersion:<span class=s2>&#34;v1.22.3&#34;</span>, GitCommit:<span class=s2>&#34;c92036820499fedefec0f847e2054d824aea6cd1&#34;</span>, GitTreeState:<span class=s2>&#34;clean&#34;</span>, BuildDate:<span class=s2>&#34;2021-10-27T18:34:20Z&#34;</span>, GoVersion:<span class=s2>&#34;go1.16.10&#34;</span>, Compiler:<span class=s2>&#34;gc&#34;</span>, Platform:<span class=s2>&#34;darwin/arm64&#34;</span><span class=o>}</span>
</span></span><span class=line><span class=cl>Server Version: version.Info<span class=o>{</span>Major:<span class=s2>&#34;1&#34;</span>, Minor:<span class=s2>&#34;21&#34;</span>, GitVersion:<span class=s2>&#34;v1.21.5&#34;</span>, GitCommit:<span class=s2>&#34;aea7bbadd2fc0cd689de94a54e5b7b758869d691&#34;</span>, GitTreeState:<span class=s2>&#34;clean&#34;</span>, BuildDate:<span class=s2>&#34;2021-09-15T21:04:16Z&#34;</span>, GoVersion:<span class=s2>&#34;go1.16.8&#34;</span>, Compiler:<span class=s2>&#34;gc&#34;</span>, Platform:<span class=s2>&#34;linux/arm64&#34;</span><span class=o>}</span>
</span></span></code></pre></div><br><h3 id=4-pod-ìŠ¤í™-ì‘ì„± class="relative group">4. pod ìŠ¤í™ ì‘ì„± <span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#4-pod-%ec%8a%a4%ed%8e%99-%ec%9e%91%ec%84%b1 aria-label=Anchor>#</a></span></h3><p>kubernetesì—ì„œ ì˜¤ë¸Œì íŠ¸ë¥¼ ìƒì„±í•˜ë ¤ë©´ ì˜¤ë¸Œì íŠ¸ì— ëŒ€í•œ ê¸°ë³¸ì ì¸ ì •ë³´ì™€ í•¨ê»˜ ì˜ë„í•œ ìƒíƒœë¥¼ ê¸°ìˆ í•œ ì˜¤ë¸Œì íŠ¸ ìŠ¤í™(spec)ì„ ì œì‹œí•´ì•¼í•œë‹¤.</p><p>ì˜¤ë¸Œì íŠ¸ë¥¼ ìƒì„±í•˜ê¸° ìœ„í•œ ì‘ì„± í¬ë§·ì€ YAML í˜¹ì€ JSONì„ ì‚¬ìš©í•œë‹¤. ì¼ë°˜ì ìœ¼ë¡œ YAMLì´ ë‹¤ë¥¸ í¬ë§·ë³´ë‹¤ ê°€ë…ì„±ì´ ì¢‹ê³  ì‘ì„±ë„ í¸í•´ ë§ì´ë“¤ ì‚¬ìš©í•œë‹¤.</p><p>ì¿ ë²„ë„¤í‹°ìŠ¤ êµ¬ì„±ìš”ì†Œì˜ ìµœì†Œ ë‹¨ìœ„ëŠ” í¬ë“œ(Pod)ì´ë‹¤. 1ê°œì˜ podëŠ” 1ê°œ ì´ìƒì˜ ì»¨í…Œì´ë„ˆë¡œ êµ¬ì„±ëœë‹¤.</p><p>ì•„ë˜ëŠ” podë¥¼ ë°°í¬í•˜ëŠ” ê°„ë‹¨í•œ yaml ìƒ˜í”Œ ì½”ë“œì´ë‹¤. vi ì—ë””í„°ë¥¼ ì´ìš©í•´ ê·¸ëŒ€ë¡œ ì‘ì„±í•´ ì €ì¥í•œë‹¤.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=l>$ cat sample-pod.yaml</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class=l>v1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class=l>Pod</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>metadata</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>myapp-pod</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w> </span><span class=nt>labels</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>   </span><span class=nt>app</span><span class=p>:</span><span class=w> </span><span class=l>myapp</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>spec</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w> </span><span class=nt>containers</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w> </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>myapp-container</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>   </span><span class=nt>image</span><span class=p>:</span><span class=w> </span><span class=l>busybox</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>   </span><span class=nt>command</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=s1>&#39;sh&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;-c&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;echo Hello Kubernetes! &amp;&amp; sleep 3600&#39;</span><span class=p>]</span><span class=w>
</span></span></span></code></pre></div><br><h3 id=5-pod-ë°°í¬ class="relative group">5. pod ë°°í¬ <span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#5-pod-%eb%b0%b0%ed%8f%ac aria-label=Anchor>#</a></span></h3><p>ì‘ì„±í•œ í¬ë“œ ìŠ¤í™(<code>sample-pod.yaml</code>)ì„ ì ìš©í•œë‹¤.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ kubectl apply -f sample-pod.yaml
</span></span><span class=line><span class=cl>pod/myapp-pod created
</span></span></code></pre></div><p>ì‹¤í–‰ ê²°ê³¼ë¡œ <code>pod/myapp-pod created</code> ë©”ì„¸ì§€ê°€ ì¶œë ¥ë˜ë©´ podê°€ ì •ìƒ ìƒì„±ëœ ê²ƒì´ë‹¤.</p><br><h3 id=6-pod-ìƒíƒœí™•ì¸ class="relative group">6. pod ìƒíƒœí™•ì¸ <span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#6-pod-%ec%83%81%ed%83%9c%ed%99%95%ec%9d%b8 aria-label=Anchor>#</a></span></h3><p><strong>í¬ë“œ ì •ë³´ë¥¼ ê°„ë‹¨íˆ ì¶œë ¥</strong></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ kubectl get pods
</span></span><span class=line><span class=cl>NAME        READY   STATUS              RESTARTS   AGE
</span></span><span class=line><span class=cl>myapp-pod   0/1     ContainerCreating   <span class=m>0</span>          3s
</span></span></code></pre></div><p>podì˜ ì»¨í…Œì´ë„ˆê°€ ìƒì„±ì¤‘(<code>ContainerCreating</code>)ì¸ ìƒíƒœë‹¤.</p><br><p>ëª‡ ì´ˆ í›„ì— pod ìƒíƒœë¥¼ ë‹¤ì‹œ ì¡°íšŒí•´ë³¸ë‹¤.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ kubectl get pods
</span></span><span class=line><span class=cl>NAME        READY   STATUS    RESTARTS   AGE
</span></span><span class=line><span class=cl>myapp-pod   1/1     Running   <span class=m>0</span>          5s
</span></span></code></pre></div><p>í˜„ì¬ëŠ” podì— ì»¨í…Œì´ë„ˆê°€ ìƒì„±ëœ í›„ ì‹¤í–‰ì¤‘(<code>Running</code>)ì´ë‹¤.</p><br><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ kubectl get po
</span></span></code></pre></div><p><code>pods</code> í‚¤ì›Œë“œì˜ ì¶•ì•½í˜•ì¸ <code>po</code>ë¡œ ì…ë ¥í•´ë„ ëœë‹¤. (pods ë§ê³  ë‹¤ë¥¸ ì˜¤ë¸Œì íŠ¸ë“¤ë„ ëª¨ë‘ ì¶•ì•½í˜•ì´ ì¡´ì¬í•œë‹¤. deploymentsëŠ” <code>deploy</code>, replicasetsëŠ” <code>rs</code>ì´ë‹¤.)</p><p>CLI í™˜ê²½ì—ì„œëŠ” í•œ ê¸€ìë¼ë„ ëœ ì¹˜ëŠ”ê²Œ ê³ íš¨ìœ¨ë¡œ ê°€ëŠ” ì§€ë¦„ê¸¸ì´ë‹¤.</p><br><p><strong>í¬ë“œ ì •ë³´ ìì„¸íˆ ì¶œë ¥</strong></p><p><code>kubectl get pod</code> ëª…ë ¹ì–´ ë’¤ì— <code>-o wide</code> ì˜µì…˜ì„ ë¶™ì´ë©´ <code>IP</code>, <code>NODE</code>, <code>NOMINATED NODE</code>, <code>READINESS GATES</code> 4ê°€ì§€ ì •ë³´ë¥¼ ë” ë³´ì—¬ì¤€ë‹¤.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ kubectl get pods -o wide
</span></span><span class=line><span class=cl>NAME        READY   STATUS    RESTARTS   AGE   IP         NODE             NOMINATED NODE   READINESS GATES
</span></span><span class=line><span class=cl>myapp-pod   1/1     Running   <span class=m>0</span>          11s   10.1.0.8   docker-desktop   &lt;none&gt;           &lt;none&gt;
</span></span></code></pre></div><br><h3 id=7-ë°°í¬-ê²°ê³¼í™•ì¸ class="relative group">7. ë°°í¬ ê²°ê³¼í™•ì¸ <span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#7-%eb%b0%b0%ed%8f%ac-%ea%b2%b0%ea%b3%bc%ed%99%95%ec%9d%b8 aria-label=Anchor>#</a></span></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ kubectl logs pod/myapp-pod
</span></span><span class=line><span class=cl>Hello Kubernetes!
</span></span></code></pre></div><p>íŠ¹ì • podì˜ ë¡œê·¸ë¥¼ í™•ì¸í•œë‹¤. <code>sample-pod.yaml</code> íŒŒì¼ì— ì‘ì„±í•œëŒ€ë¡œ podê°€ <code>echo Hello Kubernetes!</code>ë¥¼ ì‹¤í–‰í–ˆë‹¤.</p><br><h3 id=8-pod-ì ‘ì† class="relative group">8. pod ì ‘ì† <span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#8-pod-%ec%a0%91%ec%86%8d aria-label=Anchor>#</a></span></h3><p><code>myapp-pod</code>ì˜ <code>myapp-container</code> ì•ˆìœ¼ë¡œ shell ì ‘ì†ì„ ì‹œë„í•´ë³¸ë‹¤.</p><br><p>ì˜›ë‚  ë²„ì „ì˜ kubernetesì—ì„œëŠ” pod ì ‘ì†ì‹œ <code>kubectl exec -it [POD] [COMMAND]</code> ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í–ˆì—ˆë‹¤. í•˜ì§€ë§Œ í•´ë‹¹ ëª…ë ¹ì–´ëŠ” ì‹ ê·œ ëª…ë ¹ì–´ë¡œ ëŒ€ì²´(depreacted) ë˜ì–´ ê³§ ë‹¤ìŒ ë²„ì „ì—ì„œ ì‚¬ë¼ì§ˆ ì˜ˆì •ì´ë‹¤. ëª…ë ¹ì–´ ì‚¬ìš©ì— ì£¼ì˜í•œë‹¤.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ kubectl <span class=nb>exec</span> -it myapp-pod /bin/sh -c myapp-container
</span></span><span class=line><span class=cl>kubectl <span class=nb>exec</span> <span class=o>[</span>POD<span class=o>]</span> <span class=o>[</span>COMMAND<span class=o>]</span> is DEPRECATED and will be removed in a future version. Use kubectl <span class=nb>exec</span> <span class=o>[</span>POD<span class=o>]</span> -- <span class=o>[</span>COMMAND<span class=o>]</span> instead.
</span></span></code></pre></div><br><p><strong>ëª…ë ¹ì–´ í˜•ì‹</strong></p><p>kubernetes ê¶Œê³ ì‚¬í•­ì— ë”°ë¼ ì•„ë˜ì˜ ì‹ ê·œ <code>kubectl exec</code> ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•˜ë„ë¡ í•˜ì.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ kubectl <span class=nb>exec</span> &lt;POD_NAME&gt; -c &lt;CONTAINER_NAME&gt; -it -- &lt;COMMAND&gt;
</span></span></code></pre></div><br><p><strong>ì‹¤ì œ ëª…ë ¹ì–´</strong></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ kubectl <span class=nb>exec</span> myapp-pod -c myapp-container -it -- /bin/sh
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ kubectl <span class=nb>exec</span> myapp-pod -c myapp-container -it -- /bin/sh
</span></span><span class=line><span class=cl><span class=c1># --- ì—¬ê¸°ì„œë¶€í„°ëŠ” ì»¨í…Œì´ë„ˆì˜ shell í™˜ê²½ì— ì§„ì…í•œ ìƒíƒœì´ë‹¤. ---</span>
</span></span><span class=line><span class=cl>/ <span class=c1># hostname</span>
</span></span><span class=line><span class=cl>myapp-pod
</span></span><span class=line><span class=cl>/ <span class=c1># ifconfig</span>
</span></span><span class=line><span class=cl>eth0      Link encap:Ethernet  HWaddr 5E:DC:25:DF:28:AA
</span></span><span class=line><span class=cl>          inet addr:10.1.0.9  Bcast:10.1.255.255  Mask:255.255.0.0
</span></span><span class=line><span class=cl>          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1
</span></span><span class=line><span class=cl>          RX packets:14 errors:0 dropped:0 overruns:0 frame:0
</span></span><span class=line><span class=cl>          TX packets:1 errors:0 dropped:0 overruns:0 carrier:0
</span></span><span class=line><span class=cl>          collisions:0 txqueuelen:0
</span></span><span class=line><span class=cl>          RX bytes:1048 <span class=o>(</span>1.0 KiB<span class=o>)</span>  TX bytes:42 <span class=o>(</span>42.0 B<span class=o>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>lo        Link encap:Local Loopback
</span></span><span class=line><span class=cl>          inet addr:127.0.0.1  Mask:255.0.0.0
</span></span><span class=line><span class=cl>          UP LOOPBACK RUNNING  MTU:65536  Metric:1
</span></span><span class=line><span class=cl>          RX packets:0 errors:0 dropped:0 overruns:0 frame:0
</span></span><span class=line><span class=cl>          TX packets:0 errors:0 dropped:0 overruns:0 carrier:0
</span></span><span class=line><span class=cl>          collisions:0 txqueuelen:1000
</span></span><span class=line><span class=cl>          RX bytes:0 <span class=o>(</span>0.0 B<span class=o>)</span>  TX bytes:0 <span class=o>(</span>0.0 B<span class=o>)</span>
</span></span></code></pre></div><p>ì»¨í…Œì´ë„ˆ ìƒíƒœ í™•ì¸ì´ ëë‚¬ë‹¤ë©´ <code>Ctrl</code> + <code>p</code>, <code>q</code> í‚¤(Escape Sequence)ë¥¼ ì…ë ¥í•´ì„œ containerì˜ shellì—ì„œ ë¹ ì ¸ë‚˜ì˜¨ë‹¤.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=nb>exec</span> attach failed: error on attach stdin: <span class=nb>read</span> escape sequence
</span></span><span class=line><span class=cl><span class=nb>command</span> terminated with <span class=nb>exit</span> code <span class=m>126</span>
</span></span><span class=line><span class=cl>$ 
</span></span></code></pre></div><br><h3 id=9-í¬ë“œ-ì‚­ì œ class="relative group">9. í¬ë“œ ì‚­ì œ <span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#9-%ed%8f%ac%eb%93%9c-%ec%82%ad%ec%a0%9c aria-label=Anchor>#</a></span></h3><p>í•™ìŠµì´ ëë‚¬ìœ¼ë‹ˆ ìƒì„±ëœ podë¥¼ ì‚­ì œí•˜ê³  ì •ë¦¬í•˜ì.</p><p><code>kubectl delete pod</code> ëª…ë ¹ì–´ë¥¼ ì´ìš©í•´ í¬ë“œë¥¼ ì§€ì •í•´ ì‚­ì œë¥¼ í• ìˆ˜ë„ ìˆì§€ë§Œ, ê¹”ë”í•œ ì‚­ì œë¥¼ ìœ„í•´ì„œëŠ” <code>-f</code> ì˜µì…˜ì„ ì´ìš©í•´ yaml íŒŒì¼ì— ì„ ì–¸ëœ ì„¤ì •ì„ ê¸°ë°˜ìœ¼ë¡œ ì‚­ì œí•˜ëŠ” ê±¸ ê¶Œì¥í•œë‹¤.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ kubectl delete -f sample-pod.yaml
</span></span><span class=line><span class=cl>pod <span class=s2>&#34;myapp-pod&#34;</span> deleted
</span></span></code></pre></div><p>ì‚­ì œ ì†Œìš”ì‹œê°„ì€ ì•½ 20ì´ˆ ê±¸ë¦°ë‹¤. ì„¤ì •íŒŒì¼ì— ì„ ì–¸ëœ <code>myapp-pod</code> í¬ë“œê°€ ì •ìƒ ì‚­ì œëë‹¤.</p><br><p>ì •ë§ë¡œ í¬ë“œê°€ ì‚­ì œë˜ì—ˆëŠ”ì§€ í™•ì¸í•´ë³´ì.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ kubectl get po
</span></span><span class=line><span class=cl>No resources found in default namespace.
</span></span></code></pre></div><p>ì•„ë¬´ëŸ° í¬ë“œë„ ì¡°íšŒë˜ì§€ ì•ŠëŠ”ë‹¤. ì˜ ì‚­ì œë˜ì—ˆë‹¤. ë!</p></div></section><footer class="pt-8 max-w-prose print:hidden"><script src=https://utteranc.es/client.js repo=seyslee/seyslee.github.io issue-term=pathname label=blog-comment theme=github-dark crossorigin=anonymous async></script></footer></article></main><footer class="py-10 print:hidden"><div class="flex items-center justify-between"><div><p class="text-sm text-neutral-500 dark:text-neutral-400">&copy;
2022
Younsung Lee</p></div></div></footer></div></body></html>