<!doctype html><html lang=en dir=ltr class=scroll-smooth data-default-appearance=dark data-auto-appearance=false><head><meta charset=utf-8><meta http-equiv=content-language content="en"><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="ie=edge"><title>minikube 설치 &#183; seyslee</title><meta name=title content="minikube 설치 &#183; seyslee"><meta name=description content="seyslee"><link rel=canonical href=https://seyslee.github.io/blog/k8s/installing-minikube/><link type=text/css rel=stylesheet href=/css/main.bundle.min.39b7a5b20cc3e1243a974332de8d5e458dd9f15f0f8e06962e8afb4c2b9ce9805c65a0f9359b396ceb5d5f8c16f9ede5d854c208fb561f4fbc5b9a05f4c3cdec.css integrity="sha512-ObelsgzD4SQ6l0My3o1eRY3Z8V8PjgaWLor7TCuc6YBcZaD5NZs5bOtdX4wW+e3l2FTCCPtWH0+8W5oF9MPN7A=="><script type=text/javascript src=/js/appearance.min.12e98742cd283574d030a7fe55f29597df4ee214f7ff7075b4d19a64d046a602753c715295550be7899b661619cec89c679049d36c624681671a8013c1249896.js integrity="sha512-EumHQs0oNXTQMKf+VfKVl99O4hT3/3B1tNGaZNBGpgJ1PHFSlVUL54mbZhYZzsicZ5BJ02xiRoFnGoATwSSYlg=="></script>
<script defer type=text/javascript id=script-bundle src=/js/main.bundle.min.9ae0a991bb442898e9bc60cf318b4de3ff878325ff3821625a5564b32b2f66aec0e7f7d0e00ca3ac7df59d9f01c18c88b6bdd213184f86ac9ce06d7bdffbadf8.js integrity="sha512-muCpkbtEKJjpvGDPMYtN4/+HgyX/OCFiWlVksysvZq7A5/fQ4AyjrH31nZ8BwYyItr3SExhPhqyc4G173/ut+A==" data-copy=Copy data-copied=Copied></script>
<link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest href=/site.webmanifest><meta property="og:title" content="minikube 설치"><meta property="og:description" content="macOS에서 docker + minikube를 설치하고 실습 환경을 구축하는 방법을 설명합니다."><meta property="og:type" content="article"><meta property="og:url" content="https://seyslee.github.io/blog/k8s/installing-minikube/"><meta property="article:section" content="blog"><meta property="article:published_time" content="2021-11-09T12:44:30+09:00"><meta property="article:modified_time" content="2021-11-09T19:27:50+09:00"><meta property="og:site_name" content="seyslee"><meta name=twitter:card content="summary"><meta name=twitter:title content="minikube 설치"><meta name=twitter:description content="macOS에서 docker + minikube를 설치하고 실습 환경을 구축하는 방법을 설명합니다."><script type=application/ld+json>[{"@context":"https://schema.org","@type":"Article","articleSection":"Blogs","name":"minikube 설치","headline":"minikube 설치","description":"macOS에서 docker \u002b minikube를 설치하고 실습 환경을 구축하는 방법을 설명합니다.","abstract":"개요 # M1 CPU를 사용하는 mac에 minikube를 설치해 kubernetes 실습 환경을 구축한다.","inLanguage":"en","url":"https:\/\/seyslee.github.io\/blog\/k8s\/installing-minikube\/","author":{"@type":"Person","name":"Younsung Lee"},"copyrightYear":"2021","dateCreated":"2021-11-09T12:44:30\u002b09:00","datePublished":"2021-11-09T12:44:30\u002b09:00","dateModified":"2021-11-09T19:27:50\u002b09:00","keywords":["devops","kubernetes"],"mainEntityOfPage":"true","wordCount":"1070"}]</script><meta name=author content="Younsung Lee"><link href=mailto:ivecloudblack@gmail.com rel=me><link href=https://github.com/seyslee rel=me></head><body class="flex flex-col h-screen px-6 m-auto text-lg leading-7 bg-neutral text-neutral-900 sm:px-14 md:px-24 lg:px-32 dark:bg-neutral-800 dark:text-neutral max-w-7xl"><div id=the-top class="absolute flex self-center"><a class="px-3 py-1 text-sm -translate-y-8 rounded-b-lg bg-primary-200 dark:bg-neutral-600 focus:translate-y-0" href=#main-content><span class="font-bold ltr:pr-2 rtl:pl-2 text-primary-600 dark:text-primary-400">&darr;</span>Skip to main content</a></div><header class="flex justify-between py-6 font-semibold sm:items-center sm:py-10 text-neutral-900 dark:text-neutral print:hidden"><div><a class="decoration-primary-500 hover:underline hover:decoration-2 hover:underline-offset-2" rel=me href=/>seyslee</a></div><nav><ul class="flex flex-col list-none sm:flex-row"><li class="mb-1 ltr:text-right rtl:text-left sm:mb-0 ltr:sm:mr-7 ltr:sm:last:mr-0 rtl:sm:ml-7 rtl:sm:last:ml-0"><a class="decoration-primary-500 hover:underline hover:decoration-2 hover:underline-offset-2" href=/blog/ title=Blogs>Post</a></li><li class="mb-1 ltr:text-right rtl:text-left sm:mb-0 ltr:sm:mr-7 ltr:sm:last:mr-0 rtl:sm:ml-7 rtl:sm:last:ml-0"><a class="decoration-primary-500 hover:underline hover:decoration-2 hover:underline-offset-2" href=/tags/ title=Tags>Tag</a></li></ul></nav></header><main id=main-content class="relative grow"><article><header class=max-w-prose><h1 class="mt-0 text-4xl font-extrabold text-neutral-900 dark:text-neutral">minikube 설치</h1><div class="mt-8 mb-12 text-base text-neutral-500 dark:text-neutral-400 print:hidden"><div class="flex flex-row flex-wrap items-center"><time datetime="2021-11-09 12:44:30 +0900 +0900">Nov 9, 2021</time><span class="px-2 text-primary-500">&#183;</span><time datetime="2021-11-09 19:27:50 +0900 +0900">Updated: Nov 9, 2021</time></div></div></header><section class="flex flex-col max-w-full mt-0 prose lg:flex-row dark:prose-invert"><div class="order-first px-0 lg:max-w-xs ltr:lg:pl-8 rtl:lg:pr-8 lg:order-last"><div class="ltr:pl-5 rtl:pr-5 toc lg:sticky lg:top-10 print:hidden"><details open class="mt-0 overflow-hidden rounded-lg rtl:pr-5 ltr:pl-5 ltr:-ml-5 rtl:-mr-5 lg:mt-3"><summary class="block py-1 text-lg font-semibold cursor-pointer rtl:pr-5 ltr:pl-5 ltr:-ml-5 rtl:-mr-5 text-neutral-800 dark:text-neutral-100 lg:hidden bg-neutral-100 dark:bg-neutral-700">Table of Contents</summary><div class="py-2 border-dotted ltr:border-l rtl:border-r rtl:pr-5 ltr:pl-5 ltr:-ml-5 rtl:-mr-5 border-neutral-300 dark:border-neutral-600"><nav id=TableOfContents><ul><li><a href=#개요>개요</a></li><li><a href=#환경>환경</a></li><li><a href=#본문>본문</a><ul><li><ul><li><a href=#1-docker-설치>1. Docker 설치</a></li><li><a href=#2-minikube-설치>2. minikube 설치</a></li><li><a href=#3-minikube-실행>3. minikube 실행</a></li><li><a href=#4-minikube-상태-확인>4. minikube 상태 확인</a></li><li><a href=#5-테스트-pod-생성>5. 테스트 pod 생성</a></li><li><a href=#7-실습환경-정리>7. 실습환경 정리</a></li></ul></li></ul></li></ul></nav></div></details></div></div><div class="min-w-0 min-h-0 max-w-prose"><h1 id=개요 class="relative group">개요 <span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#%ea%b0%9c%ec%9a%94 aria-label=Anchor>#</a></span></h1><p>M1 CPU를 사용하는 mac에 <code>minikube</code>를 설치해 kubernetes 실습 환경을 구축한다.</p><p>이 방식은 Virtualbox나 VMware를 사용하지 않고, docker에 minikube를 올리는 방식이다.</p><br><h1 id=환경 class="relative group">환경 <span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#%ed%99%98%ea%b2%bd aria-label=Anchor>#</a></span></h1><ul><li><strong>Hardware</strong> : MacBook Pro (13", M1, 2020)</li><li><strong>OS</strong> : macOS Monterey 12.0.1</li><li><strong>패키지 관리자</strong> : Homebrew 3.3.2</li><li><strong>설치대상</strong><ul><li><strong>Docker Desktop v4.1.1</strong></li><li><strong>minikube v1.24.0</strong></li></ul></li></ul><br><h1 id=본문 class="relative group">본문 <span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#%eb%b3%b8%eb%ac%b8 aria-label=Anchor>#</a></span></h1><h3 id=1-docker-설치 class="relative group">1. Docker 설치 <span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#1-docker-%ec%84%a4%ec%b9%98 aria-label=Anchor>#</a></span></h3><p>macOS용 패키지 관리자인 Homebrew를 이용해 <code>docker</code>를 설치한다. 쿠버네티스를 사용하기 위해서는 docker를 먼저 설치해야한다.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ brew install --cask <span class=nv>docker</span>
</span></span><span class=line><span class=cl><span class=o>==</span>&gt; Downloading https://desktop.docker.com/mac/main/arm64/69879/Docker.dmg
</span></span><span class=line><span class=cl>Already downloaded: /Users/ive/Library/Caches/Homebrew/downloads/b5774f18ca8a6d3936c5174f91b93cb1a1a407daa784fe63d9b6300180c7b1ed--Docker.dmg
</span></span><span class=line><span class=cl><span class=o>==</span>&gt; Installing Cask <span class=nv>docker</span>
</span></span><span class=line><span class=cl><span class=o>==</span>&gt; Moving App <span class=s1>&#39;Docker.app&#39;</span> to <span class=s1>&#39;/Applications/Docker.app&#39;</span>
</span></span><span class=line><span class=cl><span class=o>==</span>&gt; Linking Binary <span class=s1>&#39;docker-compose.bash-completion&#39;</span> to <span class=s1>&#39;/opt/homebrew/etc/bash_c
</span></span></span><span class=line><span class=cl><span class=s1>==&gt; Linking Binary &#39;</span>docker.zsh-completion<span class=s1>&#39; to &#39;</span>/opt/homebrew/share/zsh/site-func
</span></span><span class=line><span class=cl><span class=o>==</span>&gt; Linking Binary <span class=s1>&#39;docker.fish-completion&#39;</span> to <span class=s1>&#39;/opt/homebrew/share/fish/vendor_
</span></span></span><span class=line><span class=cl><span class=s1>==&gt; Linking Binary &#39;</span>docker-compose.fish-completion<span class=s1>&#39; to &#39;</span>/opt/homebrew/share/fish
</span></span><span class=line><span class=cl><span class=o>==</span>&gt; Linking Binary <span class=s1>&#39;docker-compose.zsh-completion&#39;</span> to <span class=s1>&#39;/opt/homebrew/share/zsh/s
</span></span></span><span class=line><span class=cl><span class=s1>==&gt; Linking Binary &#39;</span>docker.bash-completion<span class=s1>&#39; to &#39;</span>/opt/homebrew/etc/bash_completio
</span></span><span class=line><span class=cl>🍺  docker was successfully installed!
</span></span></code></pre></div><p>docker 최초 설치시 오래걸리니 인내심을 갖고 기다린다.</p><br><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ brew list --cask
</span></span><span class=line><span class=cl>docker                                   iterm2
</span></span></code></pre></div><p>cask 목록에 docker가 설치되었다.</p><br><p>런치패드에도 Docker 아이콘이 생성됐다.</p><p><figure><img class="my-0 rounded-md" src=./0.png alt="런치패드의 도커 아이콘"></figure></p><br><h3 id=2-minikube-설치 class="relative group">2. minikube 설치 <span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#2-minikube-%ec%84%a4%ec%b9%98 aria-label=Anchor>#</a></span></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ brew install minikube
</span></span><span class=line><span class=cl>Updating Homebrew...
</span></span><span class=line><span class=cl><span class=o>==</span>&gt; Auto-updated Homebrew!
</span></span><span class=line><span class=cl>Updated <span class=m>2</span> taps <span class=o>(</span>homebrew/core and homebrew/cask<span class=o>)</span>.
</span></span><span class=line><span class=cl><span class=o>==</span>&gt; New Formulae
</span></span><span class=line><span class=cl><span class=nv>tailscale</span>
</span></span><span class=line><span class=cl><span class=o>==</span>&gt; Updated Formulae
</span></span><span class=line><span class=cl>Updated <span class=m>23</span> formulae.
</span></span><span class=line><span class=cl><span class=o>==</span>&gt; Updated Casks
</span></span><span class=line><span class=cl>Updated <span class=m>33</span> casks.
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=o>==</span>&gt; Downloading https://ghcr.io/v2/homebrew/core/minikube/manifests/1.24.0
</span></span><span class=line><span class=cl><span class=c1>######################################################################## 100.0%</span>
</span></span><span class=line><span class=cl><span class=o>==</span>&gt; Downloading https://ghcr.io/v2/homebrew/core/minikube/blobs/sha256:3672e4faa
</span></span><span class=line><span class=cl><span class=o>==</span>&gt; Downloading from https://pkg-containers.githubusercontent.com/ghcr1/blobs/sh
</span></span><span class=line><span class=cl><span class=c1>######################################################################## 100.0%</span>
</span></span><span class=line><span class=cl><span class=o>==</span>&gt; Pouring minikube--1.24.0.arm64_monterey.bottle.tar.gz
</span></span><span class=line><span class=cl><span class=o>==</span>&gt; Caveats
</span></span><span class=line><span class=cl>zsh completions have been installed to:
</span></span><span class=line><span class=cl>  /opt/homebrew/share/zsh/site-functions
</span></span><span class=line><span class=cl><span class=o>==</span>&gt; Summary
</span></span><span class=line><span class=cl>🍺  /opt/homebrew/Cellar/minikube/1.24.0: <span class=m>9</span> files, 67.3MB
</span></span><span class=line><span class=cl>~ &gt;
</span></span></code></pre></div><p>minikube v1.24.0의 설치가 완료되었다.</p><br><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ minikube version
</span></span><span class=line><span class=cl>minikube version: v1.24.0
</span></span><span class=line><span class=cl>commit: 76b94fb3c4e8ac5062daf70d60cf03ddcc0a741b
</span></span></code></pre></div><p>버전 확인 명령어가 잘 실행되는지 확인한다.</p><br><h3 id=3-minikube-실행 class="relative group">3. minikube 실행 <span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#3-minikube-%ec%8b%a4%ed%96%89 aria-label=Anchor>#</a></span></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ minikube start --driver<span class=o>=</span>docker --alsologtostderr
</span></span></code></pre></div><p>방대한 로그 메세지가 지나간다.</p><br><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ minikube start --driver<span class=o>=</span>docker --alsologtostderr
</span></span><span class=line><span class=cl><span class=o>[</span>...<span class=o>]</span>
</span></span><span class=line><span class=cl>I1109 12:32:56.565222   <span class=m>79576</span> out.go:297<span class=o>]</span> Setting OutFile to fd <span class=m>1</span> ...
</span></span><span class=line><span class=cl>I1109 12:32:56.565358   <span class=m>79576</span> out.go:349<span class=o>]</span> isatty.IsTerminal<span class=o>(</span>1<span class=o>)</span> <span class=o>=</span> <span class=nb>true</span>
</span></span><span class=line><span class=cl>I1109 12:32:56.565362   <span class=m>79576</span> out.go:310<span class=o>]</span> Setting ErrFile to fd 2...
</span></span><span class=line><span class=cl>I1109 12:32:56.565366   <span class=m>79576</span> out.go:349<span class=o>]</span> isatty.IsTerminal<span class=o>(</span>2<span class=o>)</span> <span class=o>=</span> <span class=nb>true</span>
</span></span><span class=line><span class=cl>I1109 12:32:56.565476   <span class=m>79576</span> root.go:313<span class=o>]</span> Updating PATH: /Users/ive/.minikube/bin
</span></span><span class=line><span class=cl>W1109 12:32:56.565579   <span class=m>79576</span> root.go:291<span class=o>]</span> Error reading config file at /Users/ive/.minikube/config/config.json: open /Users/ive/.minikube/config/config.json: no such file or directory
</span></span><span class=line><span class=cl>I1109 12:32:56.565974   <span class=m>79576</span> out.go:304<span class=o>]</span> Setting JSON to <span class=nb>false</span>
</span></span><span class=line><span class=cl>I1109 12:32:56.596136   <span class=m>79576</span> start.go:112<span class=o>]</span> hostinfo: <span class=o>{</span><span class=s2>&#34;hostname&#34;</span>:<span class=s2>&#34;iveui-MacBookPro.local&#34;</span>,<span class=s2>&#34;uptime&#34;</span>:1170918,<span class=s2>&#34;bootTime&#34;</span>:1635257858,<span class=s2>&#34;procs&#34;</span>:396,<span class=s2>&#34;os&#34;</span>:<span class=s2>&#34;darwin&#34;</span>,<span class=s2>&#34;platform&#34;</span>:<span class=s2>&#34;darwin&#34;</span>,<span class=s2>&#34;platformFamily&#34;</span>:<span class=s2>&#34;Standalone Workstation&#34;</span>,<span class=s2>&#34;platformVersion&#34;</span>:<span class=s2>&#34;12.0.1&#34;</span>,<span class=s2>&#34;kernelVersion&#34;</span>:<span class=s2>&#34;21.1.0&#34;</span>,<span class=s2>&#34;kernelArch&#34;</span>:<span class=s2>&#34;arm64&#34;</span>,<span class=s2>&#34;virtualizationSystem&#34;</span>:<span class=s2>&#34;&#34;</span>,<span class=s2>&#34;virtualizationRole&#34;</span>:<span class=s2>&#34;&#34;</span>,<span class=s2>&#34;hostId&#34;</span>:<span class=s2>&#34;825e9759-178a-503c-934f-4f7b344b3615&#34;</span><span class=o>}</span>
</span></span><span class=line><span class=cl>W1109 12:32:56.596248   <span class=m>79576</span> start.go:120<span class=o>]</span> gopshost.Virtualization returned error: not implemented yet
</span></span><span class=line><span class=cl>I1109 12:32:56.614964   <span class=m>79576</span> out.go:176<span class=o>]</span> 😄  Darwin 12.0.1 <span class=o>(</span>arm64<span class=o>)</span> 의 minikube v1.24.0
</span></span><span class=line><span class=cl>😄  Darwin 12.0.1 <span class=o>(</span>arm64<span class=o>)</span> 의 minikube v1.24.0
</span></span></code></pre></div><p>arm64 아키텍쳐의 minikube v1.24.0 이 실행되는 걸 확인할 수 있다.<br><br></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=o>[</span>...<span class=o>]</span>
</span></span><span class=line><span class=cl>I1109 12:39:12.271034   <span class=m>79576</span> out.go:176<span class=o>]</span> 🌟  애드온 활성화 : storage-provisioner, default-storageclass
</span></span><span class=line><span class=cl>🌟  애드온 활성화 : storage-provisioner, default-storageclass
</span></span><span class=line><span class=cl>I1109 12:39:12.271085   <span class=m>79576</span> addons.go:417<span class=o>]</span> enableAddons completed in 830.948958ms
</span></span><span class=line><span class=cl>I1109 12:39:12.366536   <span class=m>79576</span> start.go:473<span class=o>]</span> kubectl: 1.22.3, cluster: 1.22.3 <span class=o>(</span>minor skew: 0<span class=o>)</span>
</span></span><span class=line><span class=cl>I1109 12:39:12.385010   <span class=m>79576</span> out.go:176<span class=o>]</span> 🏄  끝났습니다! kubectl이 <span class=s2>&#34;minikube&#34;</span> 클러스터와 <span class=s2>&#34;default&#34;</span> 네임스페이스를 기본적으로 사용하도록 구성되었습니다.
</span></span><span class=line><span class=cl>🏄  끝났습니다! kubectl이 <span class=s2>&#34;minikube&#34;</span> 클러스터와 <span class=s2>&#34;default&#34;</span> 네임스페이스를 기본적으로 사용하도록 구성되었습니다.
</span></span></code></pre></div><p><code>minikube start</code>가 완료되었을 때 마지막 메세지. 이제 준비는 끝났다.<br><br></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ minikube status
</span></span><span class=line><span class=cl>minikube
</span></span><span class=line><span class=cl>type: Control Plane
</span></span><span class=line><span class=cl>host: Running
</span></span><span class=line><span class=cl>kubelet: Running
</span></span><span class=line><span class=cl>apiserver: Running
</span></span><span class=line><span class=cl>kubeconfig: Configured
</span></span></code></pre></div><p>위 경우 정상상태이다.</p><br><h3 id=4-minikube-상태-확인 class="relative group">4. minikube 상태 확인 <span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#4-minikube-%ec%83%81%ed%83%9c-%ed%99%95%ec%9d%b8 aria-label=Anchor>#</a></span></h3><p><strong>docker 확인</strong></p><p><figure><img class="my-0 rounded-md" src=./2.png alt></figure></p><p>도커에서 실행되는 minikube 컨테이너를 확인할 수 있다.</p><br><p><strong>minikube dashboard 확인</strong></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ minikube addons list
</span></span><span class=line><span class=cl><span class=p>|</span>-----------------------------<span class=p>|</span>----------<span class=p>|</span>--------------<span class=p>|</span>-----------------------<span class=p>|</span>
</span></span><span class=line><span class=cl><span class=p>|</span>         ADDON NAME          <span class=p>|</span> PROFILE  <span class=p>|</span>    STATUS    <span class=p>|</span>      MAINTAINER       <span class=p>|</span>
</span></span><span class=line><span class=cl><span class=p>|</span>-----------------------------<span class=p>|</span>----------<span class=p>|</span>--------------<span class=p>|</span>-----------------------<span class=p>|</span>
</span></span><span class=line><span class=cl><span class=p>|</span> ambassador                  <span class=p>|</span> minikube <span class=p>|</span> disabled     <span class=p>|</span> unknown <span class=o>(</span>third-party<span class=o>)</span> <span class=p>|</span>
</span></span><span class=line><span class=cl><span class=p>|</span> auto-pause                  <span class=p>|</span> minikube <span class=p>|</span> disabled     <span class=p>|</span> google                <span class=p>|</span>
</span></span><span class=line><span class=cl><span class=p>|</span> csi-hostpath-driver         <span class=p>|</span> minikube <span class=p>|</span> disabled     <span class=p>|</span> kubernetes            <span class=p>|</span>
</span></span><span class=line><span class=cl><span class=p>|</span> dashboard                   <span class=p>|</span> minikube <span class=p>|</span> enabled ✅   <span class=p>|</span> kubernetes            <span class=p>|</span>
</span></span><span class=line><span class=cl><span class=p>|</span> default-storageclass        <span class=p>|</span> minikube <span class=p>|</span> enabled ✅   <span class=p>|</span> kubernetes            <span class=p>|</span>
</span></span><span class=line><span class=cl><span class=p>|</span> efk                         <span class=p>|</span> minikube <span class=p>|</span> disabled     <span class=p>|</span> unknown <span class=o>(</span>third-party<span class=o>)</span> <span class=p>|</span>
</span></span><span class=line><span class=cl><span class=p>|</span> freshpod                    <span class=p>|</span> minikube <span class=p>|</span> disabled     <span class=p>|</span> google                <span class=p>|</span>
</span></span><span class=line><span class=cl><span class=p>|</span> gcp-auth                    <span class=p>|</span> minikube <span class=p>|</span> disabled     <span class=p>|</span> google                <span class=p>|</span>
</span></span><span class=line><span class=cl><span class=p>|</span> gvisor                      <span class=p>|</span> minikube <span class=p>|</span> disabled     <span class=p>|</span> google                <span class=p>|</span>
</span></span><span class=line><span class=cl><span class=p>|</span> helm-tiller                 <span class=p>|</span> minikube <span class=p>|</span> disabled     <span class=p>|</span> unknown <span class=o>(</span>third-party<span class=o>)</span> <span class=p>|</span>
</span></span><span class=line><span class=cl><span class=p>|</span> ingress                     <span class=p>|</span> minikube <span class=p>|</span> disabled     <span class=p>|</span> unknown <span class=o>(</span>third-party<span class=o>)</span> <span class=p>|</span>
</span></span><span class=line><span class=cl><span class=p>|</span> ingress-dns                 <span class=p>|</span> minikube <span class=p>|</span> disabled     <span class=p>|</span> unknown <span class=o>(</span>third-party<span class=o>)</span> <span class=p>|</span>
</span></span><span class=line><span class=cl><span class=p>|</span> istio                       <span class=p>|</span> minikube <span class=p>|</span> disabled     <span class=p>|</span> unknown <span class=o>(</span>third-party<span class=o>)</span> <span class=p>|</span>
</span></span><span class=line><span class=cl><span class=p>|</span> istio-provisioner           <span class=p>|</span> minikube <span class=p>|</span> disabled     <span class=p>|</span> unknown <span class=o>(</span>third-party<span class=o>)</span> <span class=p>|</span>
</span></span><span class=line><span class=cl><span class=p>|</span> kubevirt                    <span class=p>|</span> minikube <span class=p>|</span> disabled     <span class=p>|</span> unknown <span class=o>(</span>third-party<span class=o>)</span> <span class=p>|</span>
</span></span><span class=line><span class=cl><span class=p>|</span> logviewer                   <span class=p>|</span> minikube <span class=p>|</span> disabled     <span class=p>|</span> google                <span class=p>|</span>
</span></span><span class=line><span class=cl><span class=p>|</span> metallb                     <span class=p>|</span> minikube <span class=p>|</span> disabled     <span class=p>|</span> unknown <span class=o>(</span>third-party<span class=o>)</span> <span class=p>|</span>
</span></span><span class=line><span class=cl><span class=p>|</span> metrics-server              <span class=p>|</span> minikube <span class=p>|</span> disabled     <span class=p>|</span> kubernetes            <span class=p>|</span>
</span></span><span class=line><span class=cl><span class=p>|</span> nvidia-driver-installer     <span class=p>|</span> minikube <span class=p>|</span> disabled     <span class=p>|</span> google                <span class=p>|</span>
</span></span><span class=line><span class=cl><span class=p>|</span> nvidia-gpu-device-plugin    <span class=p>|</span> minikube <span class=p>|</span> disabled     <span class=p>|</span> unknown <span class=o>(</span>third-party<span class=o>)</span> <span class=p>|</span>
</span></span><span class=line><span class=cl><span class=p>|</span> olm                         <span class=p>|</span> minikube <span class=p>|</span> disabled     <span class=p>|</span> unknown <span class=o>(</span>third-party<span class=o>)</span> <span class=p>|</span>
</span></span><span class=line><span class=cl><span class=p>|</span> pod-security-policy         <span class=p>|</span> minikube <span class=p>|</span> disabled     <span class=p>|</span> unknown <span class=o>(</span>third-party<span class=o>)</span> <span class=p>|</span>
</span></span><span class=line><span class=cl><span class=p>|</span> portainer                   <span class=p>|</span> minikube <span class=p>|</span> disabled     <span class=p>|</span> portainer.io          <span class=p>|</span>
</span></span><span class=line><span class=cl><span class=p>|</span> registry                    <span class=p>|</span> minikube <span class=p>|</span> disabled     <span class=p>|</span> google                <span class=p>|</span>
</span></span><span class=line><span class=cl><span class=p>|</span> registry-aliases            <span class=p>|</span> minikube <span class=p>|</span> disabled     <span class=p>|</span> unknown <span class=o>(</span>third-party<span class=o>)</span> <span class=p>|</span>
</span></span><span class=line><span class=cl><span class=p>|</span> registry-creds              <span class=p>|</span> minikube <span class=p>|</span> disabled     <span class=p>|</span> unknown <span class=o>(</span>third-party<span class=o>)</span> <span class=p>|</span>
</span></span><span class=line><span class=cl><span class=p>|</span> storage-provisioner         <span class=p>|</span> minikube <span class=p>|</span> enabled ✅   <span class=p>|</span> kubernetes            <span class=p>|</span>
</span></span><span class=line><span class=cl><span class=p>|</span> storage-provisioner-gluster <span class=p>|</span> minikube <span class=p>|</span> disabled     <span class=p>|</span> unknown <span class=o>(</span>third-party<span class=o>)</span> <span class=p>|</span>
</span></span><span class=line><span class=cl><span class=p>|</span> volumesnapshots             <span class=p>|</span> minikube <span class=p>|</span> disabled     <span class=p>|</span> kubernetes            <span class=p>|</span>
</span></span><span class=line><span class=cl><span class=p>|</span>-----------------------------<span class=p>|</span>----------<span class=p>|</span>--------------<span class=p>|</span>-----------------------<span class=p>|</span>
</span></span></code></pre></div><p>dashboard 추가기능(addons)이 기본 활성화(enabled) 되어있는 걸 확인한다.</p><br><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ minikube dashboard
</span></span><span class=line><span class=cl>🔌  대시보드를 활성화하는 중 ...
</span></span><span class=line><span class=cl>    ▪ Using image kubernetesui/dashboard:v2.3.1
</span></span><span class=line><span class=cl>    ▪ Using image kubernetesui/metrics-scraper:v1.0.7
</span></span><span class=line><span class=cl>🤔  Verifying dashboard health ...
</span></span><span class=line><span class=cl>🚀  프록시를 시작하는 중 ...
</span></span><span class=line><span class=cl>🤔  Verifying proxy health ...
</span></span><span class=line><span class=cl>🎉  Opening http://127.0.0.1:61311/api/v1/namespaces/kubernetes-dashboard/services/http:kubernetes-dashboard:/proxy/ in your default browser...
</span></span></code></pre></div><p>GUI 기반의 minikube 관리 웹페이지(Dashbaord)를 실행한다.</p><br><p><figure><img class="my-0 rounded-md" src=./3.png alt="minikube dashboard 초기화면"></figure></p><p><code>minikube dashboard</code> 명령어가 실행이 되면서 자동으로 브라우저 창이 열리면서 dashboard가 보인다. 끝!</p><br><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ kubectl get node -o wide
</span></span><span class=line><span class=cl>NAME       STATUS   ROLES                  AGE     VERSION   INTERNAL-IP    EXTERNAL-IP   OS-IMAGE             KERNEL-VERSION     CONTAINER-RUNTIME
</span></span><span class=line><span class=cl>minikube   Ready    control-plane,master   6h18m   v1.22.3   192.168.49.2   &lt;none&gt;        Ubuntu 20.04.2 LTS   5.10.47-linuxkit   docker://20.10.8
</span></span></code></pre></div><p>minikube 노드가 실행중이다.</p><br><h3 id=5-테스트-pod-생성 class="relative group">5. 테스트 pod 생성 <span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#5-%ed%85%8c%ec%8a%a4%ed%8a%b8-pod-%ec%83%9d%ec%84%b1 aria-label=Anchor>#</a></span></h3><p>파드(pod)는 쿠버네티스에서 가장 최소한의 오브젝트 단위이다. 1개의 pod는 최소 1개 이상의 container를 포함한다.</p><br><p><strong>YAML 작성</strong></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ vi sample-pod.yaml
</span></span><span class=line><span class=cl>apiVersion: v1
</span></span><span class=line><span class=cl>kind: Pod
</span></span><span class=line><span class=cl>metadata:
</span></span><span class=line><span class=cl> name: myapp-pod
</span></span><span class=line><span class=cl> labels:
</span></span><span class=line><span class=cl>   app: myapp
</span></span><span class=line><span class=cl>spec:
</span></span><span class=line><span class=cl> containers:
</span></span><span class=line><span class=cl> - name: myapp-container
</span></span><span class=line><span class=cl>   image: busybox
</span></span><span class=line><span class=cl>   command: <span class=o>[</span><span class=s1>&#39;sh&#39;</span>, <span class=s1>&#39;-c&#39;</span>, <span class=s1>&#39;echo Hello Kubernetes! &amp;&amp; sleep 3600&#39;</span><span class=o>]</span>
</span></span></code></pre></div><p>1개의 파드를 생성하는 yaml 파일을 작성한다. yaml 파일의 저장경로는 중요하지 않다.</p><p>yaml 파일명은 <code>sample-pod.yaml</code>이다.</p><br><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ kubectl get po -o wide
</span></span><span class=line><span class=cl>NAME        READY   STATUS    RESTARTS   AGE   IP           NODE       NOMINATED NODE   READINESS GATES
</span></span><span class=line><span class=cl>myapp-pod   1/1     Running   <span class=m>0</span>          11s   172.17.0.3   minikube   &lt;none&gt;           &lt;none&gt;
</span></span></code></pre></div><p><code>myapp-pod</code> 1개가 <code>minikube</code> 노드에서 동작중(<code>Running</code>)이다. <code>-o</code> wide 옵션은 정보를 상세하게 출력한다.</p><br><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ kubectl logs pod/myapp-pod
</span></span><span class=line><span class=cl>Hello Kubernetes!
</span></span></code></pre></div><p>pod의 로그를 확인한 결과, YAML에 작성한대로 <code>myapp-pod</code>가 <code>Hello Kubernetes!</code>를 출력했다.</p><br><h3 id=7-실습환경-정리 class="relative group">7. 실습환경 정리 <span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#7-%ec%8b%a4%ec%8a%b5%ed%99%98%ea%b2%bd-%ec%a0%95%eb%a6%ac aria-label=Anchor>#</a></span></h3><h4 id=테스트-pod-삭제 class="relative group">테스트 pod 삭제 <span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#%ed%85%8c%ec%8a%a4%ed%8a%b8-pod-%ec%82%ad%ec%a0%9c aria-label=Anchor>#</a></span></h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ kubectl delete pod --all
</span></span><span class=line><span class=cl>pod <span class=s2>&#34;myapp-pod&#34;</span> deleted
</span></span></code></pre></div><p>모든 pod를 삭제한다.</p><br><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ kubectl get po -o wide
</span></span><span class=line><span class=cl>No resources found in default namespace.
</span></span></code></pre></div><p>pod를 삭제한 후 아무런 pod도 조회되지 않는다. 모든 pod가 정상적으로 삭제되었다.</p><br><h4 id=minikube-중지 class="relative group">minikube 중지 <span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#minikube-%ec%a4%91%ec%a7%80 aria-label=Anchor>#</a></span></h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ minikube stop
</span></span><span class=line><span class=cl>✋  Stopping node <span class=s2>&#34;minikube&#34;</span>  ...
</span></span><span class=line><span class=cl>🛑  Powering off <span class=s2>&#34;minikube&#34;</span> via SSH ...
</span></span><span class=line><span class=cl>🛑  <span class=m>1</span> node stopped.
</span></span></code></pre></div><p>minikube를 종료한다. 다음에 minikube를 다시 시작하고 싶다면 <code>minikube start</code> 명령어를 실행하면 된다.</p><br><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ minikube status
</span></span><span class=line><span class=cl>minikube
</span></span><span class=line><span class=cl>type: Control Plane
</span></span><span class=line><span class=cl>host: Stopped
</span></span><span class=line><span class=cl>kubelet: Stopped
</span></span><span class=line><span class=cl>apiserver: Stopped
</span></span><span class=line><span class=cl>kubeconfig: Stopped
</span></span></code></pre></div><p>minikube가 중지된 상태(<code>Stopped</code>)이다.</p><br></div></section><footer class="pt-8 max-w-prose print:hidden"><script src=https://utteranc.es/client.js repo=seyslee/seyslee.github.io issue-term=pathname label=blog-comment theme=github-dark crossorigin=anonymous async></script></footer></article></main><footer class="py-10 print:hidden"><div class="flex justify-between"><div><p class="text-sm text-neutral-500 dark:text-neutral-400">&copy;
2022
Younsung Lee</p></div></div></footer></body></html>