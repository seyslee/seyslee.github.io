<!doctype html><html lang=en dir=ltr class=scroll-smooth data-default-appearance=dark data-auto-appearance=false><head><meta charset=utf-8><meta http-equiv=content-language content="en"><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="ie=edge"><title>Tekton 설치 &#183; seyslee</title><meta name=title content="Tekton 설치 &#183; seyslee"><meta name=description content="seyslee"><link rel=canonical href=https://seyslee.github.io/blog/installing-tekton-on-minikube/><link type=text/css rel=stylesheet href=/css/main.bundle.min.b48975bbd6c4fb86531cbdd0c02019dd556591de76cb3cd4b65f99408610039504f2f978a70784ae9adde42ca5df40cdbccfea526ba2f1562efcca9d67ee73a1.css integrity="sha512-tIl1u9bE+4ZTHL3QwCAZ3VVlkd52yzzUtl+ZQIYQA5UE8vl4pweErprd5Cyl30DNvM/qUmui8VYu/MqdZ+5zoQ=="><script type=text/javascript src=/js/appearance.min.badab316c9287a5a42a843e4eb45da65bb3d194a5a0f5fa4a3e516160e67df0b8c65f4f19a8e146436e29d583699e6cb41d6bbe99e05e1dbaa877763bad9f8e2.js integrity="sha512-utqzFskoelpCqEPk60XaZbs9GUpaD1+ko+UWFg5n3wuMZfTxmo4UZDbinVg2mebLQda76Z4F4duqh3djutn44g=="></script>
<script defer type=text/javascript id=script-bundle src=/js/main.bundle.min.9947db70e5b36e741e53f8531bd734741b3fc7a688f7b5d749fc5433c48efc252f47bdf44e471570a550fc051b87712799014040e6349b38d64448b94e84e45a.js integrity="sha512-mUfbcOWzbnQeU/hTG9c0dBs/x6aI97XXSfxUM8SO/CUvR730TkcVcKVQ/AUbh3EnmQFAQOY0mzjWREi5ToTkWg==" data-copy=Copy data-copied=Copied></script>
<link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest href=/site.webmanifest><meta property="og:title" content="Tekton 설치"><meta property="og:description" content="minikube 환경에서 Tekton pipeline과 Tekton Dashboard를 설치하고 데모를 진행하는 방법을 소개합니다."><meta property="og:type" content="article"><meta property="og:url" content="https://seyslee.github.io/blog/installing-tekton-on-minikube/"><meta property="article:section" content="blog"><meta property="article:published_time" content="2022-05-02T21:17:15+09:00"><meta property="article:modified_time" content="2022-06-05T02:21:33+09:00"><meta property="og:site_name" content="seyslee"><meta name=twitter:card content="summary"><meta name=twitter:title content="Tekton 설치"><meta name=twitter:description content="minikube 환경에서 Tekton pipeline과 Tekton Dashboard를 설치하고 데모를 진행하는 방법을 소개합니다."><script type=application/ld+json>[{"@context":"https://schema.org","@type":"Article","articleSection":"Blogs","name":"Tekton 설치","headline":"Tekton 설치","description":"minikube 환경에서 Tekton pipeline과 Tekton Dashboard를 설치하고 데모를 진행하는 방법을 소개합니다.","abstract":"개요 # minikube를 통해 Tekton Pipeline과 Tekton Dashboard를 설치하고 데모를 구성해본다.","inLanguage":"en","url":"https:\/\/seyslee.github.io\/blog\/installing-tekton-on-minikube\/","author":{"@type":"Person","name":"Younsung Lee"},"copyrightYear":"2022","dateCreated":"2022-05-02T21:17:15\u002b09:00","datePublished":"2022-05-02T21:17:15\u002b09:00","dateModified":"2022-06-05T02:21:33\u002b09:00","keywords":["devops","tekton","kubernetes"],"mainEntityOfPage":"true","wordCount":"603"}]</script><meta name=author content="Younsung Lee"><link href=mailto:ivecloudblack@gmail.com rel=me><link href=https://github.com/seyslee rel=me></head><body class="flex flex-col h-screen px-6 m-auto text-lg leading-7 bg-neutral text-neutral-900 sm:px-14 md:px-24 lg:px-32 dark:bg-neutral-800 dark:text-neutral max-w-7xl"><div id=the-top class="absolute flex self-center"><a class="px-3 py-1 text-sm -translate-y-8 rounded-b-lg bg-primary-200 dark:bg-neutral-600 focus:translate-y-0" href=#main-content><span class="font-bold ltr:pr-2 rtl:pl-2 text-primary-600 dark:text-primary-400">&darr;</span>Skip to main content</a></div><header class="flex justify-between py-6 font-semibold sm:items-center sm:py-10 text-neutral-900 dark:text-neutral print:hidden"><div><a class="decoration-primary-500 hover:underline hover:decoration-2 hover:underline-offset-2" rel=me href=/>seyslee</a></div><nav><ul class="flex flex-col list-none sm:flex-row"><li class="mb-1 ltr:text-right rtl:text-left sm:mb-0 ltr:sm:mr-7 ltr:sm:last:mr-0 rtl:sm:ml-7 rtl:sm:last:ml-0"><a class="decoration-primary-500 hover:underline hover:decoration-2 hover:underline-offset-2" href=/blog/ title=Blogs>post</a></li><li class="mb-1 ltr:text-right rtl:text-left sm:mb-0 ltr:sm:mr-7 ltr:sm:last:mr-0 rtl:sm:ml-7 rtl:sm:last:ml-0"><a class="decoration-primary-500 hover:underline hover:decoration-2 hover:underline-offset-2" href=/tags/ title=Tags>tag</a></li></ul></nav></header><div class="relative flex flex-col grow"><main id=main-content class=grow><article><header class=max-w-prose><h1 class="mt-0 text-4xl font-extrabold text-neutral-900 dark:text-neutral">Tekton 설치</h1><div class="mt-8 mb-12 text-base text-neutral-500 dark:text-neutral-400 print:hidden"><div class="flex flex-row flex-wrap items-center"><time datetime="2022-05-02 21:17:15 +0900 +0900">May 2, 2022</time><span class="px-2 text-primary-500">&#183;</span><time datetime="2022-06-05 02:21:33 +0900 +0900">Updated: Jun 5, 2022</time></div></div></header><section class="flex flex-col max-w-full mt-0 prose lg:flex-row dark:prose-invert"><div class="order-first px-0 lg:max-w-xs ltr:lg:pl-8 rtl:lg:pr-8 lg:order-last"><div class="ltr:pl-5 rtl:pr-5 toc lg:sticky lg:top-10 print:hidden"><details open class="mt-0 overflow-hidden rounded-lg rtl:pr-5 ltr:pl-5 ltr:-ml-5 rtl:-mr-5 lg:mt-3"><summary class="block py-1 text-lg font-semibold cursor-pointer rtl:pr-5 ltr:pl-5 ltr:-ml-5 rtl:-mr-5 text-neutral-800 dark:text-neutral-100 lg:hidden bg-neutral-100 dark:bg-neutral-700">Table of Contents</summary><div class="py-2 border-dotted ltr:border-l rtl:border-r rtl:pr-5 ltr:pl-5 ltr:-ml-5 rtl:-mr-5 border-neutral-300 dark:border-neutral-600"><nav id=TableOfContents><ul><li><ul><li><a href=#개요>개요</a></li><li><a href=#환경>환경</a></li><li><a href=#전제조건>전제조건</a></li><li><a href=#시작하기>시작하기</a><ul><li><a href=#1-task-데모>1. Task 데모</a></li><li><a href=#2-pipeline-데모>2. Pipeline 데모</a></li><li><a href=#3-tekton-dashboard-설치>3. Tekton Dashboard 설치</a></li></ul></li><li><a href=#참고자료>참고자료</a></li></ul></li></ul></nav></div></details></div></div><div class="min-w-0 min-h-0 max-w-prose"><h2 id=개요 class="relative group">개요 <span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#%ea%b0%9c%ec%9a%94 aria-label=Anchor>#</a></span></h2><p>minikube를 통해 Tekton Pipeline과 Tekton Dashboard를 설치하고 데모를 구성해본다.</p><p> </p><h2 id=환경 class="relative group">환경 <span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#%ed%99%98%ea%b2%bd aria-label=Anchor>#</a></span></h2><ul><li><strong>OS</strong>: macOS Monterey 12.3.1</li><li><strong>Shell</strong>: zsh</li><li><strong>minikube v1.25.2</strong></li><li><strong>Homebrew 3.4.9</strong></li></ul><p> </p><h2 id=전제조건 class="relative group">전제조건 <span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#%ec%a0%84%ec%a0%9c%ec%a1%b0%ea%b1%b4 aria-label=Anchor>#</a></span></h2><ul><li>minikube가 미리 설치되어 있어야 한다.</li></ul><p> </p><h2 id=시작하기 class="relative group">시작하기 <span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#%ec%8b%9c%ec%9e%91%ed%95%98%ea%b8%b0 aria-label=Anchor>#</a></span></h2><h3 id=1-task-데모 class="relative group">1. Task 데모 <span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#1-task-%eb%8d%b0%eb%aa%a8 aria-label=Anchor>#</a></span></h3><p>미니큐브 클러스터를 생성한다.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ minikube start
</span></span><span class=line><span class=cl>😄  Darwin 12.3.1 <span class=o>(</span>arm64<span class=o>)</span> 의 minikube v1.25.2
</span></span><span class=line><span class=cl>✨  자동적으로 docker 드라이버가 선택되었습니다
</span></span><span class=line><span class=cl>👍  minikube 클러스터의 minikube 컨트롤 플레인 노드를 시작하는 중
</span></span><span class=line><span class=cl>🚜  베이스 이미지를 다운받는 중 ...
</span></span><span class=line><span class=cl>💾  쿠버네티스 v1.23.3 을 다운로드 중 ...
</span></span><span class=line><span class=cl>    &gt; preloaded-images-k8s-v17-v1...: 419.07 MiB / 419.07 MiB  100.00% 2.37 MiB
</span></span><span class=line><span class=cl>    &gt; gcr.io/k8s-minikube/kicbase: 343.12 MiB / 343.12 MiB  100.00% 1.87 MiB p/
</span></span><span class=line><span class=cl>🔥  Creating docker container <span class=o>(</span><span class=nv>CPUs</span><span class=o>=</span>2, <span class=nv>Memory</span><span class=o>=</span>1988MB<span class=o>)</span> ...
</span></span><span class=line><span class=cl>🐳  쿠버네티스 v1.23.3 을 Docker 20.10.12 런타임으로 설치하는 중
</span></span><span class=line><span class=cl>    ▪ kubelet.housekeeping-interval<span class=o>=</span>5m
</span></span><span class=line><span class=cl>    ▪ 인증서 및 키를 생성하는 중 ...
</span></span><span class=line><span class=cl>    ▪ 컨트롤 플레인이 부팅...
</span></span><span class=line><span class=cl>    ▪ RBAC 규칙을 구성하는 중 ...
</span></span><span class=line><span class=cl>🔎  Kubernetes 구성 요소를 확인...
</span></span><span class=line><span class=cl>    ▪ Using image gcr.io/k8s-minikube/storage-provisioner:v5
</span></span><span class=line><span class=cl>🌟  애드온 활성화 : storage-provisioner, default-storageclass
</span></span><span class=line><span class=cl>🏄  끝났습니다! kubectl이 <span class=s2>&#34;minikube&#34;</span> 클러스터와 <span class=s2>&#34;default&#34;</span> 네임스페이스를 기본적으로 사용하도록 구성되었습니다.
</span></span></code></pre></div><p> </p><p>kubectl을 사용하여 클러스터가 성공적으로 생성되었는지 확인할 수 있다.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ kubectl cluster-info
</span></span><span class=line><span class=cl>Kubernetes control plane is running at https://127.0.0.1:57074
</span></span><span class=line><span class=cl>CoreDNS is running at https://127.0.0.1:57074/api/v1/namespaces/kube-system/services/kube-dns:dns/proxy
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>To further debug and diagnose cluster problems, use <span class=s1>&#39;kubectl cluster-info dump&#39;</span>.
</span></span></code></pre></div><p> </p><p>tekton pipeline을 설치한다.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ kubectl apply --filename <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>https://storage.googleapis.com/tekton-releases/pipeline/latest/release.yaml
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ kubectl get pod -n tekton-pipelines
</span></span><span class=line><span class=cl>NAME                                           READY   STATUS    RESTARTS   AGE
</span></span><span class=line><span class=cl>tekton-pipelines-controller-55487dcfb8-vww2f   1/1     Running   <span class=m>0</span>          31s
</span></span><span class=line><span class=cl>tekton-pipelines-webhook-794864555f-g9fnm      1/1     Running   <span class=m>0</span>          31s
</span></span></code></pre></div><p> </p><p><code>hello-world.yaml</code> 파일을 아래와 같이 작성한다.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>apiVersion: tekton.dev/v1beta1
</span></span><span class=line><span class=cl>kind: Task
</span></span><span class=line><span class=cl>metadata:
</span></span><span class=line><span class=cl>  name: hello
</span></span><span class=line><span class=cl>spec:
</span></span><span class=line><span class=cl>  steps:
</span></span><span class=line><span class=cl>    - name: <span class=nb>echo</span>
</span></span><span class=line><span class=cl>      image: alpine
</span></span><span class=line><span class=cl>      script: <span class=p>|</span>
</span></span><span class=line><span class=cl>        <span class=c1>#!/bin/sh</span>
</span></span><span class=line><span class=cl>        <span class=nb>echo</span> <span class=s2>&#34;Hello World&#34;</span>
</span></span></code></pre></div><p> </p><p>작성한 <code>hello-world.yaml</code> 파일을 배포한다.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ kubectl apply -f hello-world.yaml
</span></span><span class=line><span class=cl>task.tekton.dev/hello created
</span></span></code></pre></div><p> </p><p><code>True</code>, <code>Succeeded</code>는 Task가 정상적으로 완료되었다는 의미이다.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ kubectl get taskrun hello-task-run
</span></span><span class=line><span class=cl>NAME             SUCCEEDED   REASON      STARTTIME   COMPLETIONTIME
</span></span><span class=line><span class=cl>hello-task-run   True        Succeeded   29s         5s
</span></span></code></pre></div><p> </p><p>실행된 Task의 결과(로그)를 확인해본다.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ kubectl logs --selector<span class=o>=</span>tekton.dev/taskRun<span class=o>=</span>hello-task-run
</span></span><span class=line><span class=cl>Hello World
</span></span></code></pre></div><p>실행한 Task 로그에 <code>Hello World</code>가 출력됐다.<br>Task가 정상 실행된 걸 확인할 수 있다.</p><p> </p><h3 id=2-pipeline-데모 class="relative group">2. Pipeline 데모 <span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#2-pipeline-%eb%8d%b0%eb%aa%a8 aria-label=Anchor>#</a></span></h3><p><strong>두 번째 테스크 생성하고 실행하기</strong><br>Hello World Task가 이미 있다. 이제 두 번째 Task인 Goodbye World를 만들어본다.<br>파일명은 <code>goodbye-world.yaml</code> 이다.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class=l>tekton.dev/v1beta1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class=l>Task</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>metadata</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>goodbye</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>spec</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>steps</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>goodbye</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>image</span><span class=p>:</span><span class=w> </span><span class=l>ubuntu</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>script</span><span class=p>:</span><span class=w> </span><span class=p>|</span><span class=sd>
</span></span></span><span class=line><span class=cl><span class=sd>        #!/bin/bash
</span></span></span><span class=line><span class=cl><span class=sd>        echo &#34;Goodbye World!&#34;</span><span class=w>        
</span></span></span></code></pre></div><p> </p><p>작성한 <code>goodbye-world.yaml</code> 파일을 배포한다.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ kubectl apply --filename goodbye-world.yaml
</span></span><span class=line><span class=cl>task.tekton.dev/goodbye created
</span></span></code></pre></div><p> </p><p><strong>Pipeline 생성</strong><br><code>hello-goodbye-pipeline.yaml</code> 파일을 작성한다.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class=l>tekton.dev/v1beta1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class=l>Pipeline</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>metadata</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>hello-goodbye</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>spec</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>tasks</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>hello</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>taskRef</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>hello</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>goodbye</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>runAfter</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=l>hello</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>taskRef</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>goodbye</span><span class=w>
</span></span></span></code></pre></div><p> </p><p>작성한 파일을 배포한다.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ kubectl apply --filename hello-goodbye-pipeline.yaml
</span></span></code></pre></div><p> </p><p>PipelineRun 개체로 파이프라인을 인스턴스화한다.<br><code>hello-goodbye-pipeline-run.yaml</code>이라는 새 파일을 아래와 같이 작성한다.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class=l>tekton.dev/v1beta1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class=l>PipelineRun</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>metadata</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>hello-goodbye-run</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>spec</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>pipelineRef</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>hello-goodbye</span><span class=w>
</span></span></span></code></pre></div><p> </p><p>작성한 파일을 배포한다.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ kubectl apply --filename hello-goodbye-pipeline-run.yaml
</span></span><span class=line><span class=cl>pipelinerun.tekton.dev/hello-goodbye-run created
</span></span></code></pre></div><p> </p><p>Tekton CLI를 사용해서 <code>hello-goodbye-run</code> Pipelien Run의 로그를 확인한다.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ tkn pipelinerun logs hello-goodbye-run -f -n default
</span></span></code></pre></div><h4 id=tektoncd-cli-설치 class="relative group">tektoncd-cli 설치 <span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#tektoncd-cli-%ec%84%a4%ec%b9%98 aria-label=Anchor>#</a></span></h4><p>참고로 <code>tkn</code> 명령어를 사용하려면 tektoncd-cli 설치가 필요하다.<br><code>brew</code> 명령어로 <code>tektoncd-cli</code>를 설치할 수 있다.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ brew install tektoncd-cli
</span></span></code></pre></div><p>실행된 파이프라인 로그에서 hello task와 goodbye task가 모두 정상 실행된 결과를 확인할 수 있다.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ tkn pipelinerun logs hello-goodbye-run -f -n default
</span></span><span class=line><span class=cl><span class=o>[</span>hello : echo<span class=o>]</span> Hello World
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=o>[</span>goodbye : goodbye<span class=o>]</span> Goodbye World!
</span></span></code></pre></div><p> </p><h3 id=3-tekton-dashboard-설치 class="relative group">3. Tekton Dashboard 설치 <span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#3-tekton-dashboard-%ec%84%a4%ec%b9%98 aria-label=Anchor>#</a></span></h3><p>Tekton Dashboard는 Tekton을 관리하기 편하게 해주는 Web UI이다.</p><p> </p><p>최신 버전의 Tekton Dashboard를 설치하려면 아래 명령어를 실행한다.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ kubectl apply --filename https://github.com/tektoncd/dashboard/releases/latest/download/tekton-dashboard-release.yaml
</span></span></code></pre></div><p> </p><p><code>tekton-dashboard-xxx</code> Pod가 새로 생성된 걸 확인할 수 있다.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ kubectl get pods --namespace tekton-pipelines
</span></span><span class=line><span class=cl>NAME                                           READY   STATUS    RESTARTS   AGE
</span></span><span class=line><span class=cl>tekton-dashboard-6c66f85968-f42h5              1/1     Running   <span class=m>0</span>          34s
</span></span><span class=line><span class=cl>tekton-pipelines-controller-55487dcfb8-vww2f   1/1     Running   <span class=m>0</span>          8m21s
</span></span><span class=line><span class=cl>tekton-pipelines-webhook-794864555f-g9fnm      1/1     Running   <span class=m>0</span>          8m21s
</span></span></code></pre></div><p> </p><p>Tekton Dashboard에 접속하기 위해 포트를 설정한다.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ kubectl proxy --port<span class=o>=</span><span class=m>8080</span>
</span></span></code></pre></div><p> </p><p>그 다음 웹 브라우저에서 아래 주소를 입력해 Tekton Dashboard로 접속 가능하다.</p><pre tabindex=0><code>http://localhost:8080/api/v1/namespaces/tekton-pipelines/services/tekton-dashboard:http/proxy/#/clustertasks
</code></pre><p>또는 이 방법도 가능하다.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ kubectl --namespace tekton-pipelines port-forward svc/tekton-dashboard 9097:9097
</span></span></code></pre></div><p> </p><p>위 명령어가 실행된 후 웹 브라우저를 열고 <a href=http://localhost:9097>http://localhost:9097</a>로 접속하면 Tekton Dashboard 화면이 나타난다.</p><p><figure><img class="my-0 rounded-md" src=./1.png alt="Tekton Dashboard 화면"></figure></p><p>끝!</p><p> </p><h2 id=참고자료 class="relative group">참고자료 <span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#%ec%b0%b8%ea%b3%a0%ec%9e%90%eb%a3%8c aria-label=Anchor>#</a></span></h2><p><a href=https://tekton.dev/docs/getting-started/tasks/>Tekton 공식문서</a></p></div></section><footer class="pt-8 max-w-prose print:hidden"><script src=https://utteranc.es/client.js repo=seyslee/seyslee.github.io issue-term=pathname label=blog-comment theme=github-dark crossorigin=anonymous async></script></footer></article></main><footer class="py-10 print:hidden"><div class="flex justify-between"><div><p class="text-sm text-neutral-500 dark:text-neutral-400">&copy;
2022
Younsung Lee</p></div></div></footer></div></body></html>