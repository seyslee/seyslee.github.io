<!doctype html><html lang=en dir=ltr class=scroll-smooth data-default-appearance=dark data-auto-appearance=false><head><meta charset=utf-8><meta http-equiv=content-language content="en"><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="ie=edge"><title>submodule 삭제 후 재등록 &#183; seyslee</title><meta name=title content="submodule 삭제 후 재등록 &#183; seyslee"><meta name=description content="seyslee"><link rel=canonical href=https://seyslee.github.io/blog/removing-submodule-in-github/><link type=text/css rel=stylesheet href=/css/main.bundle.min.fff8ff4cdbe2bf80930c53b6e47a6d9826b914a8623246481ff09ff52ea48fcfb403d9ba1dc7bbc800a7ecb15298c468838a661dd8ebb3e9f46fdca239b38a30.css integrity="sha512-//j/TNviv4CTDFO25HptmCa5FKhiMkZIH/Cf9S6kj8+0A9m6Hce7yACn7LFSmMRog4pmHdjrs+n0b9yiObOKMA=="><script type=text/javascript src=/js/appearance.min.badab316c9287a5a42a843e4eb45da65bb3d194a5a0f5fa4a3e516160e67df0b8c65f4f19a8e146436e29d583699e6cb41d6bbe99e05e1dbaa877763bad9f8e2.js integrity="sha512-utqzFskoelpCqEPk60XaZbs9GUpaD1+ko+UWFg5n3wuMZfTxmo4UZDbinVg2mebLQda76Z4F4duqh3djutn44g=="></script>
<script defer type=text/javascript id=script-bundle src=/js/main.bundle.min.9947db70e5b36e741e53f8531bd734741b3fc7a688f7b5d749fc5433c48efc252f47bdf44e471570a550fc051b87712799014040e6349b38d64448b94e84e45a.js integrity="sha512-mUfbcOWzbnQeU/hTG9c0dBs/x6aI97XXSfxUM8SO/CUvR730TkcVcKVQ/AUbh3EnmQFAQOY0mzjWREi5ToTkWg==" data-copy=Copy data-copied=Copied></script>
<link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest href=/site.webmanifest><meta property="og:title" content="submodule 삭제 후 재등록"><meta property="og:description" content="git 명령어로 submodule을 삭제한 후 다시 등록하는 방법을 설명합니다."><meta property="og:type" content="article"><meta property="og:url" content="https://seyslee.github.io/blog/removing-submodule-in-github/"><meta property="article:section" content="blog"><meta property="article:published_time" content="2022-01-03T00:39:20+09:00"><meta property="article:modified_time" content="2022-01-03T01:07:20+09:00"><meta property="og:site_name" content="seyslee"><meta name=twitter:card content="summary"><meta name=twitter:title content="submodule 삭제 후 재등록"><meta name=twitter:description content="git 명령어로 submodule을 삭제한 후 다시 등록하는 방법을 설명합니다."><script type=application/ld+json>[{"@context":"https://schema.org","@type":"Article","articleSection":"Blogs","name":"submodule 삭제 후 재등록","headline":"submodule 삭제 후 재등록","description":"git 명령어로 submodule을 삭제한 후 다시 등록하는 방법을 설명합니다.","abstract":"발단 # submodule 레포지터리인 seyslee.","inLanguage":"en","url":"https:\/\/seyslee.github.io\/blog\/removing-submodule-in-github\/","author":{"@type":"Person","name":"Younsung Lee"},"copyrightYear":"2022","dateCreated":"2022-01-03T00:39:20\u002b09:00","datePublished":"2022-01-03T00:39:20\u002b09:00","dateModified":"2022-01-03T01:07:20\u002b09:00","keywords":["github","dev"],"mainEntityOfPage":"true","wordCount":"440"}]</script><meta name=author content="Younsung Lee"><link href=mailto:ivecloudblack@gmail.com rel=me><link href=https://github.com/seyslee rel=me></head><body class="flex flex-col h-screen px-6 m-auto text-lg leading-7 bg-neutral text-neutral-900 sm:px-14 md:px-24 lg:px-32 dark:bg-neutral-800 dark:text-neutral max-w-7xl"><div id=the-top class="absolute flex self-center"><a class="px-3 py-1 text-sm -translate-y-8 rounded-b-lg bg-primary-200 dark:bg-neutral-600 focus:translate-y-0" href=#main-content><span class="font-bold ltr:pr-2 rtl:pl-2 text-primary-600 dark:text-primary-400">&darr;</span>Skip to main content</a></div><header class="py-6 font-semibold sm:py-10 text-neutral-900 dark:text-neutral print:hidden"><nav class="flex justify-between"><div><a class="decoration-primary-500 hover:underline hover:decoration-2 hover:underline-offset-2" rel=me href=/>seyslee</a></div><ul class="flex flex-col list-none ltr:text-right rtl:text-left sm:flex-row"><li class="mb-1 sm:mb-0 ltr:sm:mr-7 ltr:sm:last:mr-0 rtl:sm:ml-7 rtl:sm:last:ml-0"><a class="decoration-primary-500 hover:underline hover:decoration-2 hover:underline-offset-2" href=/blog/ title=Blogs>post</a></li><li class="mb-1 sm:mb-0 ltr:sm:mr-7 ltr:sm:last:mr-0 rtl:sm:ml-7 rtl:sm:last:ml-0"><a class="decoration-primary-500 hover:underline hover:decoration-2 hover:underline-offset-2" href=/tags/ title=Tags>tag</a></li></ul></nav></header><div class="relative flex flex-col grow"><main id=main-content class=grow><article><header class=max-w-prose><h1 class="mt-0 text-4xl font-extrabold text-neutral-900 dark:text-neutral">submodule 삭제 후 재등록</h1><div class="mt-8 mb-12 text-base text-neutral-500 dark:text-neutral-400 print:hidden"><div class="flex flex-row flex-wrap items-center"><time datetime="2022-01-03 00:39:20 +0900 +0900">Jan 3, 2022</time></div></div></header><section class="flex flex-col max-w-full mt-0 prose lg:flex-row dark:prose-invert"><div class="order-first px-0 lg:max-w-xs ltr:lg:pl-8 rtl:lg:pr-8 lg:order-last"><div class="ltr:pl-5 rtl:pr-5 toc lg:sticky lg:top-10 print:hidden"><details open class="mt-0 overflow-hidden rounded-lg rtl:pr-5 ltr:pl-5 ltr:-ml-5 rtl:-mr-5"><summary class="block py-1 text-lg font-semibold cursor-pointer rtl:pr-5 ltr:pl-5 ltr:-ml-5 rtl:-mr-5 text-neutral-800 dark:text-neutral-100 lg:hidden bg-neutral-100 dark:bg-neutral-700">Table of Contents</summary><div class="py-2 border-dotted ltr:border-l rtl:border-r rtl:pr-5 ltr:pl-5 ltr:-ml-5 rtl:-mr-5 border-neutral-300 dark:border-neutral-600"><nav id=TableOfContents><ul><li><a href=#발단>발단</a></li><li><a href=#환경>환경</a></li><li><a href=#해결방법>해결방법</a><ul><li><a href=#1-submodule-삭제>1. submodule 삭제</a><ul><li><a href=#submodule-목록-확인>submodule 목록 확인</a></li><li><a href=#submodule-deinit>submodule deinit</a></li><li><a href=#로컬에서-submodule-디렉토리-삭제>로컬에서 submodule 디렉토리 삭제</a></li><li><a href=#git에서-submodule-디렉토리-삭제>git에서 submodule 디렉토리 삭제</a></li><li><a href=#submodule-목록-재확인>submodule 목록 재확인</a></li></ul></li><li><a href=#2-submodule-등록>2. submodule 등록</a><ul><li><a href=#submodule-다시-추가>submodule 다시 추가</a></li><li><a href=#submodule-추가-결과-확인>submodule 추가 결과 확인</a></li></ul></li></ul></li><li><a href=#참고자료>참고자료</a></li></ul></nav></div></details></div></div><div class="min-w-0 min-h-0 max-w-prose"><h1 id=발단 class="relative group">발단 <span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#%eb%b0%9c%eb%8b%a8 aria-label=Anchor>#</a></span></h1><p>submodule 레포지터리인 seyslee.github.io의 branch name을 master에서 main으로 변경하던 작업중 꼬여버려서 에러가 발생했다.</p><p>seyslee.github.io 레포지터리와 연결된 submodule인 public 디렉토리를 다시 등록할 필요가 있었다.</p><br><h1 id=환경 class="relative group">환경 <span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#%ed%99%98%ea%b2%bd aria-label=Anchor>#</a></span></h1><ul><li><p><strong>OS</strong> : macOS Monterey 12.1</p></li><li><p><strong>Git</strong> : git version 2.32.0 (Apple Git-132)</p></li><li><p><strong>터미널 프로그램</strong> : iTerm2 v3.4.15 (brew로 설치됨)</p></li><li><p><strong>Shell</strong> : zsh</p></li></ul><br><h1 id=해결방법 class="relative group">해결방법 <span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#%ed%95%b4%ea%b2%b0%eb%b0%a9%eb%b2%95 aria-label=Anchor>#</a></span></h1><h2 id=1-submodule-삭제 class="relative group">1. submodule 삭제 <span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#1-submodule-%ec%82%ad%ec%a0%9c aria-label=Anchor>#</a></span></h2><h3 id=submodule-목록-확인 class="relative group">submodule 목록 확인 <span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#submodule-%eb%aa%a9%eb%a1%9d-%ed%99%95%ec%9d%b8 aria-label=Anchor>#</a></span></h3><p>submodule을 완전삭제하기 전에 submodule 목록을 확인한다.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ git submodule
</span></span><span class=line><span class=cl>-47b65cc887e6b6f4a00b439906aa669ade23ee8c public
</span></span><span class=line><span class=cl> 9e911e331c90fcd56ae5d01ae5ecb2fa06ba55da themes/hugo-theme-codex <span class=o>(</span>v1.6.0<span class=o>)</span>
</span></span></code></pre></div><p>2개의 submodule 중에서 <code>public</code> 이라는 이름의 submodule을 삭제할 것이다.</p><br><h3 id=submodule-deinit class="relative group">submodule deinit <span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#submodule-deinit aria-label=Anchor>#</a></span></h3><p>public이라는 이름의 submodule을 등록해제(Unregister)한다.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ git submodule deinit -f public
</span></span></code></pre></div><p><strong>명령어 옵션</strong></p><ul><li><code>-f</code> (<code>--force</code>) : 명령어를 강제로 실행한다. <code>-f</code> 옵션은 add, update, deinit 명령어에서만 사용 가능하다.</li></ul><br><h3 id=로컬에서-submodule-디렉토리-삭제 class="relative group">로컬에서 submodule 디렉토리 삭제 <span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#%eb%a1%9c%ec%bb%ac%ec%97%90%ec%84%9c-submodule-%eb%94%94%eb%a0%89%ed%86%a0%eb%a6%ac-%ec%82%ad%ec%a0%9c aria-label=Anchor>#</a></span></h3><p><code>./git/modules/</code> 폴더 안의 모듈 디렉토리를 삭제한다.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ rm -rf .git/modules/public
</span></span></code></pre></div><br><h3 id=git에서-submodule-디렉토리-삭제 class="relative group">git에서 submodule 디렉토리 삭제 <span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#git%ec%97%90%ec%84%9c-submodule-%eb%94%94%eb%a0%89%ed%86%a0%eb%a6%ac-%ec%82%ad%ec%a0%9c aria-label=Anchor>#</a></span></h3><p>마지막으로 git에서 해당 실제 폴더를 삭제한다.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ git rm -f public
</span></span></code></pre></div><br><h3 id=submodule-목록-재확인 class="relative group">submodule 목록 재확인 <span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#submodule-%eb%aa%a9%eb%a1%9d-%ec%9e%ac%ed%99%95%ec%9d%b8 aria-label=Anchor>#</a></span></h3><p>다시 submodule 목록을 확인해보자.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ git submodule
</span></span><span class=line><span class=cl> 9e911e331c90fcd56ae5d01ae5ecb2fa06ba55da themes/hugo-theme-codex <span class=o>(</span>v1.6.0<span class=o>)</span>
</span></span></code></pre></div><p>기존에 있던 <code>public</code>이라는 이름의 submodule이 삭제된 걸 확인할 수 있다.</p><br><h2 id=2-submodule-등록 class="relative group">2. submodule 등록 <span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#2-submodule-%eb%93%b1%eb%a1%9d aria-label=Anchor>#</a></span></h2><h3 id=submodule-다시-추가 class="relative group">submodule 다시 추가 <span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#submodule-%eb%8b%a4%ec%8b%9c-%ec%b6%94%ea%b0%80 aria-label=Anchor>#</a></span></h3><p>삭제한 submodule을 다시 등록하고 싶다면 아래 명령어를 입력한다.</p><br><p><strong>명령어 형식</strong></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ git submodule add -b &lt;branch 이름&gt; https://github.com/&lt;Github 유저명&gt;/&lt;레포지터리 이름&gt;.git &lt;로컬에 생성할 디렉토리 이름&gt;
</span></span></code></pre></div><br><p><strong>실제 명령어</strong><br>삭제한 submodule을 다시 로컬에 생성하고 submodule로 등록하는 과정이다.</p><p>Branch 이름과 레포지터리 이름, 연결할 디렉토리 명은 개개인의 환경마다 다르기 때문에 명령어를 잘 참고해서 변경해 쓰면 된다.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ git submodule add -b main https://github.com/seyslee/seyslee.github.io.git public
</span></span><span class=line><span class=cl>Cloning into <span class=s1>&#39;/Users/ive/githubrepos/blog/public&#39;</span>...
</span></span><span class=line><span class=cl>remote: Enumerating objects: 3, <span class=k>done</span>.
</span></span><span class=line><span class=cl>remote: Counting objects: 100% <span class=o>(</span>3/3<span class=o>)</span>, <span class=k>done</span>.
</span></span><span class=line><span class=cl>remote: Total <span class=m>3</span> <span class=o>(</span>delta 0<span class=o>)</span>, reused <span class=m>0</span> <span class=o>(</span>delta 0<span class=o>)</span>, pack-reused <span class=m>0</span>
</span></span><span class=line><span class=cl>Receiving objects: 100% <span class=o>(</span>3/3<span class=o>)</span>, <span class=k>done</span>.
</span></span></code></pre></div><p>마지막 라인에 출력된 <code>Receiving objects: ..., done.</code> 메세지가 출력된 걸 보면 문제없이 복제가 된 것 같다.</p><p>이제 실제 디렉토리를 받아왔는지 로컬에서 확인해보자.</p><br><h3 id=submodule-추가-결과-확인 class="relative group">submodule 추가 결과 확인 <span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#submodule-%ec%b6%94%ea%b0%80-%ea%b2%b0%ea%b3%bc-%ed%99%95%ec%9d%b8 aria-label=Anchor>#</a></span></h3><p>내 로컬 PC에서 블로그 작업경로를 확인한다.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ <span class=nb>pwd</span>
</span></span><span class=line><span class=cl>/Users/ive/githubrepos/blog
</span></span></code></pre></div><br><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ ls -lh
</span></span><span class=line><span class=cl>total <span class=m>16</span>
</span></span><span class=line><span class=cl>drwxr-xr-x   <span class=m>3</span> ive  staff    96B  <span class=m>7</span> <span class=m>30</span> 20:00 archetypes
</span></span><span class=line><span class=cl>-rw-r--r--   <span class=m>1</span> ive  staff   2.5K  <span class=m>1</span>  <span class=m>2</span> 22:41 config.toml
</span></span><span class=line><span class=cl>drwxr-xr-x   <span class=m>6</span> ive  staff   192B <span class=m>12</span>  <span class=m>7</span> 23:45 content
</span></span><span class=line><span class=cl>-rwxrwxrwx@  <span class=m>1</span> ive  staff   585B  <span class=m>1</span>  <span class=m>2</span> 22:05 deploy.sh
</span></span><span class=line><span class=cl>drwxr-xr-x   <span class=m>5</span> ive  staff   160B <span class=m>12</span>  <span class=m>8</span> 00:39 layouts
</span></span><span class=line><span class=cl>drwxr-xr-x  <span class=m>16</span> ive  staff   512B  <span class=m>1</span>  <span class=m>3</span> 00:01 public
</span></span><span class=line><span class=cl>drwxr-xr-x   <span class=m>4</span> ive  staff   128B  <span class=m>8</span>  <span class=m>1</span> 14:43 resources
</span></span><span class=line><span class=cl>drwxr-xr-x   <span class=m>5</span> ive  staff   160B  <span class=m>1</span>  <span class=m>2</span> 23:22 static
</span></span><span class=line><span class=cl>drwxr-xr-x   <span class=m>4</span> ive  staff   128B  <span class=m>7</span> <span class=m>30</span> 20:03 themes
</span></span></code></pre></div><p><code>public</code> 디렉토리가 새로 생성되었다.</p><br><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ git submodule
</span></span><span class=line><span class=cl> ebfe49d9e92afef6bd11df4eb077439a8df18808 public <span class=o>(</span>heads/main<span class=o>)</span>
</span></span><span class=line><span class=cl> 9e911e331c90fcd56ae5d01ae5ecb2fa06ba55da themes/hugo-theme-codex <span class=o>(</span>v1.6.0<span class=o>)</span>
</span></span></code></pre></div><p>seyslee.github.io 레포지터리에 연결된 public 디렉토리가 잘 복제(Clone)되었다!</p><p>branch 이름도 <code>master</code>가 아닌 <code>main</code> 으로 변경됐다.</p><br><p>Github에 로그인한 후 레포지터리에 들어가서 직접 확인해본 결과도 동일하다.</p><p><figure><img class="my-0 rounded-md" src=./1.png alt></figure></p><p><code>public</code> 디렉토리에 파란색 링크가 걸려있다는 것은 submodule로 다른 Repository와 연결되어 있다는 걸 의미한다.</p><br><h1 id=참고자료 class="relative group">참고자료 <span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#%ec%b0%b8%ea%b3%a0%ec%9e%90%eb%a3%8c aria-label=Anchor>#</a></span></h1><p><a href=http://snowdeer.github.io/git/2018/08/01/how-to-remove-git-submodule/>http://snowdeer.github.io/git/2018/08/01/how-to-remove-git-submodule/</a></p><p><a href=https://git-scm.com/docs/git-submodule>Git - git-submodule Documentation</a></p></div></section><footer class="pt-8 max-w-prose print:hidden"><script src=https://utteranc.es/client.js repo=seyslee/seyslee.github.io issue-term=pathname label=blog-comment theme=github-dark crossorigin=anonymous async></script></footer></article><div class="absolute top-[100vh] ltr:right-0 rtl:left-0 w-12 pointer-events-none bottom-0"><a href=#the-top class="w-12 h-12 sticky pointer-events-auto top-[calc(100vh-5.5rem)] bg-neutral/50 dark:bg-neutral-800/50 backdrop-blur rounded-full text-xl flex items-center justify-center text-neutral-700 dark:text-neutral hover:text-primary-600 dark:hover:text-primary-400" aria-label="Scroll to top" title="Scroll to top">&uarr;</a></div></main><footer class="py-10 print:hidden"><div class="flex items-center justify-between"><div><p class="text-sm text-neutral-500 dark:text-neutral-400">&copy;
2022
Younsung Lee</p></div></div></footer></div></body></html>