<!doctype html><html lang=en dir=ltr class=scroll-smooth data-default-appearance=dark data-auto-appearance=false><head><meta charset=utf-8><meta http-equiv=content-language content="en"><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="ie=edge"><title>í…Œë¼í¼ìœ¼ë¡œ EC2 Instance ìƒì„±í•˜ê¸° ë°ëª¨ &#183; seyslee</title><meta name=title content="í…Œë¼í¼ìœ¼ë¡œ EC2 Instance ìƒì„±í•˜ê¸° ë°ëª¨ &#183; seyslee"><meta name=description content="seyslee"><link rel=canonical href=https://seyslee.github.io/blog/terraform-demo/><link type=text/css rel=stylesheet href=/css/main.bundle.min.980311a18ad0b55ec626a015b02d8161dc5f9d2c385a9806100e43c16f86e2fd1b824521ff0017c49f7a84d11834247d5741e87d58473a289ef870e9f3d13c02.css integrity="sha512-mAMRoYrQtV7GJqAVsC2BYdxfnSw4WpgGEA5DwW+G4v0bgkUh/wAXxJ96hNEYNCR9V0HofVhHOiie+HDp89E8Ag=="><script type=text/javascript src=/js/appearance.min.12e98742cd283574d030a7fe55f29597df4ee214f7ff7075b4d19a64d046a602753c715295550be7899b661619cec89c679049d36c624681671a8013c1249896.js integrity="sha512-EumHQs0oNXTQMKf+VfKVl99O4hT3/3B1tNGaZNBGpgJ1PHFSlVUL54mbZhYZzsicZ5BJ02xiRoFnGoATwSSYlg=="></script>
<script defer type=text/javascript id=script-bundle src=/js/main.bundle.min.9ae0a991bb442898e9bc60cf318b4de3ff878325ff3821625a5564b32b2f66aec0e7f7d0e00ca3ac7df59d9f01c18c88b6bdd213184f86ac9ce06d7bdffbadf8.js integrity="sha512-muCpkbtEKJjpvGDPMYtN4/+HgyX/OCFiWlVksysvZq7A5/fQ4AyjrH31nZ8BwYyItr3SExhPhqyc4G173/ut+A==" data-copy=Copy data-copied=Copied></script>
<link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest href=/site.webmanifest><meta property="og:title" content="í…Œë¼í¼ìœ¼ë¡œ EC2 Instance ìƒì„±í•˜ê¸° ë°ëª¨"><meta property="og:description" content="í…Œë¼í¼ì„ ì´ìš©í•´ì„œ ì¸í”„ë¼ ìë™í™”ë¥¼ êµ¬í˜„í•´ë³´ì. ì´ ë°ëª¨ë¥¼ í†µí•´ ì„œìš¸ ë¦¬ì „ì— EC2 Instance ë°°í¬ í›„ ì‚­ì œë¥¼ ì§ì ‘ ì§„í–‰í•œë‹¤."><meta property="og:type" content="article"><meta property="og:url" content="https://seyslee.github.io/blog/terraform-demo/"><meta property="article:section" content="blog"><meta property="article:published_time" content="2022-02-22T01:34:00+09:00"><meta property="article:modified_time" content="2022-02-22T01:34:00+09:00"><meta property="og:site_name" content="seyslee"><meta name=twitter:card content="summary"><meta name=twitter:title content="í…Œë¼í¼ìœ¼ë¡œ EC2 Instance ìƒì„±í•˜ê¸° ë°ëª¨"><meta name=twitter:description content="í…Œë¼í¼ì„ ì´ìš©í•´ì„œ ì¸í”„ë¼ ìë™í™”ë¥¼ êµ¬í˜„í•´ë³´ì. ì´ ë°ëª¨ë¥¼ í†µí•´ ì„œìš¸ ë¦¬ì „ì— EC2 Instance ë°°í¬ í›„ ì‚­ì œë¥¼ ì§ì ‘ ì§„í–‰í•œë‹¤."><script type=application/ld+json>[{"@context":"https://schema.org","@type":"Article","articleSection":"Blogs","name":"í…Œë¼í¼ìœ¼ë¡œ EC2 Instance ìƒì„±í•˜ê¸° ë°ëª¨","headline":"í…Œë¼í¼ìœ¼ë¡œ EC2 Instance ìƒì„±í•˜ê¸° ë°ëª¨","description":"í…Œë¼í¼ì„ ì´ìš©í•´ì„œ ì¸í”„ë¼ ìë™í™”ë¥¼ êµ¬í˜„í•´ë³´ì. ì´ ë°ëª¨ë¥¼ í†µí•´ ì„œìš¸ ë¦¬ì „ì— EC2 Instance ë°°í¬ í›„ ì‚­ì œë¥¼ ì§ì ‘ ì§„í–‰í•œë‹¤.","abstract":"ê°œìš” # í…Œë¼í¼ì„ í†µí•´ ì¸í”„ë¼ ìë™í™”, ì½”ë“œë¡œì„œ ì¸í”„ë¼IaC, Infrastructure as Codeë¥¼ ë§›ë³´ê¸°ë¡œ ì²´í—˜í•´ë³´ì.","inLanguage":"en","url":"https:\/\/seyslee.github.io\/blog\/terraform-demo\/","author":{"@type":"Person","name":"Younsung Lee"},"copyrightYear":"2022","dateCreated":"2022-02-22T01:34:00\u002b09:00","datePublished":"2022-02-22T01:34:00\u002b09:00","dateModified":"2022-02-22T01:34:00\u002b09:00","keywords":["devops","iac","terraform"],"mainEntityOfPage":"true","wordCount":"1708"}]</script><meta name=author content="Younsung Lee"><link href=mailto:ivecloudblack@gmail.com rel=me><link href=https://github.com/seyslee rel=me></head><body class="flex flex-col h-screen px-6 m-auto text-lg leading-7 bg-neutral text-neutral-900 sm:px-14 md:px-24 lg:px-32 dark:bg-neutral-800 dark:text-neutral max-w-7xl"><div id=the-top class="absolute flex self-center"><a class="px-3 py-1 text-sm -translate-y-8 rounded-b-lg bg-primary-200 dark:bg-neutral-600 focus:translate-y-0" href=#main-content><span class="font-bold ltr:pr-2 rtl:pl-2 text-primary-600 dark:text-primary-400">&darr;</span>Skip to main content</a></div><header class="flex justify-between py-6 font-semibold sm:items-center sm:py-10 text-neutral-900 dark:text-neutral print:hidden"><div><a class="decoration-primary-500 hover:underline hover:decoration-2 hover:underline-offset-2" rel=me href=/>seyslee</a></div><nav><ul class="flex flex-col list-none sm:flex-row"><li class="mb-1 ltr:text-right rtl:text-left sm:mb-0 ltr:sm:mr-7 ltr:sm:last:mr-0 rtl:sm:ml-7 rtl:sm:last:ml-0"><a class="decoration-primary-500 hover:underline hover:decoration-2 hover:underline-offset-2" href=/blog/ title=Blogs>post</a></li><li class="mb-1 ltr:text-right rtl:text-left sm:mb-0 ltr:sm:mr-7 ltr:sm:last:mr-0 rtl:sm:ml-7 rtl:sm:last:ml-0"><a class="decoration-primary-500 hover:underline hover:decoration-2 hover:underline-offset-2" href=/tags/ title=Tags>tag</a></li></ul></nav></header><div class=relative><main id=main-content class=grow><article><header class=max-w-prose><h1 class="mt-0 text-4xl font-extrabold text-neutral-900 dark:text-neutral">í…Œë¼í¼ìœ¼ë¡œ EC2 Instance ìƒì„±í•˜ê¸° ë°ëª¨</h1><div class="mt-8 mb-12 text-base text-neutral-500 dark:text-neutral-400 print:hidden"><div class="flex flex-row flex-wrap items-center"><time datetime="2022-02-22 01:34:00 +0900 +0900">Feb 22, 2022</time></div></div></header><section class="flex flex-col max-w-full mt-0 prose lg:flex-row dark:prose-invert"><div class="order-first px-0 lg:max-w-xs ltr:lg:pl-8 rtl:lg:pr-8 lg:order-last"><div class="ltr:pl-5 rtl:pr-5 toc lg:sticky lg:top-10 print:hidden"><details open class="mt-0 overflow-hidden rounded-lg rtl:pr-5 ltr:pl-5 ltr:-ml-5 rtl:-mr-5 lg:mt-3"><summary class="block py-1 text-lg font-semibold cursor-pointer rtl:pr-5 ltr:pl-5 ltr:-ml-5 rtl:-mr-5 text-neutral-800 dark:text-neutral-100 lg:hidden bg-neutral-100 dark:bg-neutral-700">Table of Contents</summary><div class="py-2 border-dotted ltr:border-l rtl:border-r rtl:pr-5 ltr:pl-5 ltr:-ml-5 rtl:-mr-5 border-neutral-300 dark:border-neutral-600"><nav id=TableOfContents><ul><li><a href=#ê°œìš”>ê°œìš”</a></li><li><a href=#ë°°ê²½ì§€ì‹>ë°°ê²½ì§€ì‹</a></li><li><a href=#ì „ì œì¡°ê±´>ì „ì œì¡°ê±´</a></li><li><a href=#í™˜ê²½>í™˜ê²½</a></li><li><a href=#ë°©ë²•>ë°©ë²•</a><ul><li><ul><li><a href=#1-í…Œë¼í¼-ì„¤ì¹˜>1. í…Œë¼í¼ ì„¤ì¹˜</a></li><li><a href=#2-í…Œë¼í¼-ê³„ì •-ìƒì„±>2. í…Œë¼í¼ ê³„ì • ìƒì„±</a></li><li><a href=#3-í…Œë¼í¼-íŒŒì¼-ì‘ì„±>3. í…Œë¼í¼ íŒŒì¼ ì‘ì„±</a></li><li><a href=#4-í…Œë¼í¼-ì´ˆê¸°í™”>4. í…Œë¼í¼ ì´ˆê¸°í™”</a></li><li><a href=#5-í…Œë¼í¼-ì ìš©>5. í…Œë¼í¼ ì ìš©</a></li><li><a href=#6-ì‚­ì œ>6. ì‚­ì œ</a></li></ul></li></ul></li><li><a href=#ê²°ë¡ >ê²°ë¡ </a></li></ul></nav></div></details></div></div><div class="min-w-0 min-h-0 max-w-prose"><h1 id=ê°œìš” class="relative group">ê°œìš” <span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#%ea%b0%9c%ec%9a%94 aria-label=Anchor>#</a></span></h1><p>í…Œë¼í¼ì„ í†µí•´ ì¸í”„ë¼ ìë™í™”, ì½”ë“œë¡œì„œ ì¸í”„ë¼<sup>IaC, Infrastructure as Code</sup>ë¥¼ ë§›ë³´ê¸°ë¡œ ì²´í—˜í•´ë³´ì.<br>í…Œë¼í¼ íŒŒì¼ì„ ì ìš©í•´ì„œ 1ëŒ€ì˜ EC2 Instanceë¥¼ ìë™ ìƒì„±í•˜ê³  ì‚­ì œí•´ë³¸ë‹¤.</p><br><h1 id=ë°°ê²½ì§€ì‹ class="relative group">ë°°ê²½ì§€ì‹ <span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#%eb%b0%b0%ea%b2%bd%ec%a7%80%ec%8b%9d aria-label=Anchor>#</a></span></h1><p><strong>í…Œë¼í¼<sup>Terraform</sup></strong><br>í•˜ì‹œì½”í”„<sup>Hashicorp</sup>ì—ì„œ ì˜¤í”ˆì†ŒìŠ¤ë¡œ ê°œë°œì¤‘ì¸ í´ë¼ìš°ë“œ ì¸í”„ë¼ìŠ¤íŠ¸ëŸ­ì²˜ ìë™í™”ë¥¼ ì§€í–¥í•˜ëŠ” ì½”ë“œë¡œì„œì˜ ì¸í”„ë¼ìŠ¤íŠ¸ëŸ­ì²˜<sup>Infrastructure as Code, IaC</sup> ë„êµ¬ì´ë‹¤.</p><p>IaCëŠ” ì½”ë“œë¡œ ì¸í”„ë¼ìŠ¤íŠ¸ëŸ­ì²˜ë¥¼ ê´€ë¦¬í•œë‹¤ëŠ” ê°œë…ìœ¼ë¡œ í…Œë¼í¼ì—ì„œëŠ” í•˜ì‹œì½”í”„ ì„¤ì • ì–¸ì–´<sup>HCL, Hashicorp Configuration Language</sup>ì„ ì‚¬ìš©í•´ í´ë¼ìš°ë“œ ë¦¬ì†ŒìŠ¤ë¥¼ ì„ ì–¸í•œë‹¤.</p><br><h1 id=ì „ì œì¡°ê±´ class="relative group">ì „ì œì¡°ê±´ <span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#%ec%a0%84%ec%a0%9c%ec%a1%b0%ea%b1%b4 aria-label=Anchor>#</a></span></h1><p>macOSìš© íŒ¨í‚¤ì§€ ê´€ë¦¬ìì¸ Homebrewê°€ ë¯¸ë¦¬ ì„¤ì¹˜ë˜ì–´ ìˆì–´ì•¼ í•œë‹¤.</p><p><a href=https://brew.sh/index_ko>Homebrew ì„¤ì¹˜ë°©ë²•</a></p><br><h1 id=í™˜ê²½ class="relative group">í™˜ê²½ <span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#%ed%99%98%ea%b2%bd aria-label=Anchor>#</a></span></h1><ul><li><strong>Hardware</strong> : MacBook Pro 13", M1, 2020</li><li><strong>OS</strong> : macOS Monterey 12.2.1</li><li><strong>Shell</strong> : zsh</li><li><strong>Terraform</strong> : v1.1.6</li><li><strong>Homebrew</strong> : 3.3.16</li></ul><br><h1 id=ë°©ë²• class="relative group">ë°©ë²• <span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#%eb%b0%a9%eb%b2%95 aria-label=Anchor>#</a></span></h1><h3 id=1-í…Œë¼í¼-ì„¤ì¹˜ class="relative group">1. í…Œë¼í¼ ì„¤ì¹˜ <span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#1-%ed%85%8c%eb%9d%bc%ed%8f%bc-%ec%84%a4%ec%b9%98 aria-label=Anchor>#</a></span></h3><p>macOS íŒ¨í‚¤ì§€ ê´€ë¦¬ìì¸ brewë¥¼ ì´ìš©í•´ terraformì„ ì„¤ì¹˜í•œë‹¤.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ brew install <span class=nv>terraform</span>
</span></span><span class=line><span class=cl><span class=o>==</span>&gt; Auto-updated Homebrew!
</span></span><span class=line><span class=cl>Updated <span class=m>1</span> tap <span class=o>(</span>homebrew/core<span class=o>)</span>.
</span></span><span class=line><span class=cl><span class=o>==</span>&gt; Updated Formulae
</span></span><span class=line><span class=cl>Updated <span class=m>2</span> formulae.
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=o>==</span>&gt; Downloading https://ghcr.io/v2/homebrew/core/terraform/manifests/1.1.6
</span></span><span class=line><span class=cl>Already downloaded: /Users/ive/Library/Caches/Homebrew/downloads/27878bff7eadcac8864a00be6ce343a4540476ed6fc8d7dfc576944971ebdf51--terraform-1.1.6.bottle_manifest.json
</span></span><span class=line><span class=cl><span class=o>==</span>&gt; Downloading https://ghcr.io/v2/homebrew/core/terraform/blobs/sha256:f6
</span></span><span class=line><span class=cl>Already downloaded: /Users/ive/Library/Caches/Homebrew/downloads/097e36e15ba08ef7554c666a971b9989a99e6a9ac84bcaf96b51ad43bed62804--terraform--1.1.6.arm64_monterey.bottle.tar.gz
</span></span><span class=line><span class=cl><span class=o>==</span>&gt; Pouring terraform--1.1.6.arm64_monterey.bottle.tar.gz
</span></span><span class=line><span class=cl>ğŸº  /opt/homebrew/Cellar/terraform/1.1.6: <span class=m>6</span> files, 69.5MB
</span></span><span class=line><span class=cl><span class=o>==</span>&gt; Running <span class=sb>`</span>brew cleanup terraform<span class=sb>`</span>...
</span></span><span class=line><span class=cl>Disable this behaviour by setting HOMEBREW_NO_INSTALL_CLEANUP.
</span></span><span class=line><span class=cl>Hide these hints with HOMEBREW_NO_ENV_HINTS <span class=o>(</span>see <span class=sb>`</span>man brew<span class=sb>`</span><span class=o>)</span>.
</span></span></code></pre></div><p><code>terraform</code> ëª…ë ¹ì–´ ë™ì‘ìƒíƒœë¥¼ í™•ì¸í•œë‹¤.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ terraform version
</span></span><span class=line><span class=cl>Terraform v1.1.6
</span></span><span class=line><span class=cl>on darwin_arm64
</span></span></code></pre></div><p>arm64ìš© Terraform v1.1.6ì´ ì„¤ì¹˜ë˜ì—ˆë‹¤.</p><br><h3 id=2-í…Œë¼í¼-ê³„ì •-ìƒì„± class="relative group">2. í…Œë¼í¼ ê³„ì • ìƒì„± <span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#2-%ed%85%8c%eb%9d%bc%ed%8f%bc-%ea%b3%84%ec%a0%95-%ec%83%9d%ec%84%b1 aria-label=Anchor>#</a></span></h3><p>AWS Management Consoleì— ë¡œê·¸ì¸ í›„ í…Œë¼í¼ ì „ìš© IAM ê³„ì •(User)ì„ ìƒì„±í•œë‹¤.<figure><img class="my-0 rounded-md" src=./1.png alt></figure></p><p>Terraformì„ ì´ìš©í•´ì„œ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•˜ë ¤ë©´ Access Keyì™€ Secrey Keyê°€ í•„ìš”í•˜ë¯€ë¡œ, 2ê°œì˜ í‚¤ ê°’ì„ ë°˜ë“œì‹œ ë©”ëª¨í•´ë‘”ë‹¤.</p><br><h3 id=3-í…Œë¼í¼-íŒŒì¼-ì‘ì„± class="relative group">3. í…Œë¼í¼ íŒŒì¼ ì‘ì„± <span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#3-%ed%85%8c%eb%9d%bc%ed%8f%bc-%ed%8c%8c%ec%9d%bc-%ec%9e%91%ec%84%b1 aria-label=Anchor>#</a></span></h3><p>terraform íŒŒì¼ì„ 2ê°œ ì‘ì„±í•œë‹¤. í…Œë¼í¼ íŒŒì¼ì˜ í™•ì¥ì ì´ë¦„ì€ <code>.tf</code> ì´ë‹¤.</p><pre tabindex=0><code>terraform-study
â”œâ”€â”€ instance.tf
â””â”€â”€ version.tf
</code></pre><ul><li><strong>instance.tf</strong> : ì„œìš¸ ë¦¬ì „<sup>ap-northeast-2</sup>ì— 1ê°œì˜ EC2 Instanceë¥¼ ìƒì„±í•˜ëŠ” íŒŒì¼.</li><li><strong>version.tf</strong> : í…Œë¼í¼ ë²„ì „ê³¼ í´ë¼ìš°ë“œ í”„ë¡œë°”ì´ë” ë²„ì „ì˜ ì œí•œì„ ê±°ëŠ” íŒŒì¼.</li></ul><h4 id=instancetf class="relative group">instance.tf <span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#instancetf aria-label=Anchor>#</a></span></h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ cat instance.tf
</span></span><span class=line><span class=cl>provider <span class=s2>&#34;aws&#34;</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>  <span class=nv>access_key</span> <span class=o>=</span> <span class=s2>&#34;ACCESS_KEY_HERE&#34;</span>
</span></span><span class=line><span class=cl>  <span class=nv>secret_key</span> <span class=o>=</span> <span class=s2>&#34;SECRET_KEY_HERE&#34;</span>
</span></span><span class=line><span class=cl>  <span class=nv>region</span>     <span class=o>=</span> <span class=s2>&#34;ap-northeast-2&#34;</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>resource <span class=s2>&#34;aws_instance&#34;</span> <span class=s2>&#34;example&#34;</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>  <span class=nv>ami</span>           <span class=o>=</span> <span class=s2>&#34;ami-0dd97ebb907cf9366&#34;</span>
</span></span><span class=line><span class=cl>  <span class=nv>instance_type</span> <span class=o>=</span> <span class=s2>&#34;t2.micro&#34;</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></div><p>IAM ìœ ì €ë¥¼ ìƒˆë¡œ ë§Œë“¤ë©´ì„œ ë°œê¸‰ëœ <code>access_key</code>, <code>secret_key</code> ê°’ì„ ë„£ì–´ì¤€ë‹¤.</p><p><u><code>access_key</code>ì™€ <code>secret_key</code> ê°’ì€ AWS ê³„ì •, íŒ¨ìŠ¤ì›Œë“œì™€ ë™ì¼í•œ ì—­í• ì„ í•˜ê¸° ë•Œë¬¸ì— ì ˆëŒ€ ê¹ƒí—ˆë¸Œ ë ˆí¬ì§€í„°ë¦¬ì— ì˜¬ë ¤ì„œë„ ì•ˆë˜ê³ , ë‹¤ë¥¸ ì‚¬ëŒë“¤ì—ê²Œ ê³µìœ í•´ì„œë„ ì•ˆëœë‹¤.</u> ë§Œì•½ ë‹¤ë¥¸ ì‚¬ëŒì´ í•´ë‹¹ í‚¤ ê°’ë“¤ì„ íšë“í•˜ë©´ AWSì˜ ëª¨ë“  ê¶Œí•œì„ íƒˆì·¨í•´ì„œ ì „ì²´ ë¦¬ì „ì— ëª¨ë“  ë¦¬ì†ŒìŠ¤ë¥¼ ë°°í¬í•˜ëŠ” ì‚¬ê³ ê°€ ë°œìƒí•´ì„œ ëª‡ë§Œ ë‹¬ëŸ¬ë¼ëŠ” ê±°ì•¡ì„ ì²­êµ¬ë°›ì„ ìˆ˜ë„ ìˆë‹¤. (êµ¬ê¸€ë§ì„ í•´ë³´ë©´ ì•Œê² ì§€ë§Œ ì´ëŸ° ì‚¬ê³ ê°€ ìƒê°ë³´ë‹¤ ë§ì´ ë°œìƒí•œë‹¤.) <code>access_key</code>ì™€ <code>secret_key</code> í‚¤ ê°’ì€ ë³¸ì¸ë§Œ ê°–ê³  ìˆì!</p><p>ìœ„ ì½”ë“œì—ì„œ <code>ami</code>ëŠ” AMI<sup>Amazon Machine Image</sup>ì˜ IDë¥¼ ì˜ë¯¸í•˜ëŠ” ë³€ìˆ˜ì´ë‹¤.</p><p><figure><img class="my-0 rounded-md" srcset="/blog/terraform-demo/2_huf1cd3e046b18d6f7995d281122005cdf_761595_330x0_resize_q75_box.jpg 330w,
/blog/terraform-demo/2_huf1cd3e046b18d6f7995d281122005cdf_761595_660x0_resize_q75_box.jpg 660w,
/blog/terraform-demo/2_huf1cd3e046b18d6f7995d281122005cdf_761595_1024x0_resize_q75_box.jpg 1024w,
/blog/terraform-demo/2_huf1cd3e046b18d6f7995d281122005cdf_761595_1320x0_resize_q75_box.jpg 2x" src=/blog/terraform-demo/2_huf1cd3e046b18d6f7995d281122005cdf_761595_660x0_resize_q75_box.jpg alt></figure></p><p>Ubuntu OSê°€ ì„¤ì¹˜ëœ AMI<sup>Amazon Machine Image</sup> IDëŠ” <a href=https://cloud-images.ubuntu.com/locator/ec2/>Amazon EC2 AMI Locator</a> ì‚¬ì´íŠ¸ì—ì„œ ê²€ìƒ‰ì´ ê°€ëŠ¥í•˜ë‹¤.</p><br><h4 id=versiontf class="relative group">version.tf <span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#versiontf aria-label=Anchor>#</a></span></h4><p><code>version.tf</code> íŒŒì¼ì€ í…Œë¼í¼ ë²„ì „ 0.12 ì´ìƒì—ì„œë§Œ í•´ë‹¹ í…Œë¼í¼ ì½”ë“œê°€ ì‹¤í–‰ë˜ë„ë¡ ì œí•œí•˜ëŠ” íŒŒì¼ì´ë‹¤. í…Œë¼í¼ ë²„ì „ê³¼ í”„ë¡œë°”ì´ë” ë²„ì „ì— ë”°ë¼ì„œ í…Œë¼í¼ ì½”ë“œ ì‹¤í–‰ê²°ê³¼ê°€ ë‹¤ë¥¼ ìˆ˜ê°€ ìˆì–´ì„œ ì¼ê´€ëœ ê²°ê³¼ë¥¼ ì–»ê¸° ìœ„í•´ ë²„ì „ ì œí•œì„ ê±¸ì—ˆë‹¤.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ cat versions.tf
</span></span><span class=line><span class=cl>terraform <span class=o>{</span>
</span></span><span class=line><span class=cl>  <span class=nv>required_version</span> <span class=o>=</span> <span class=s2>&#34;&gt;= 0.12&#34;</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></div><br><h3 id=4-í…Œë¼í¼-ì´ˆê¸°í™” class="relative group">4. í…Œë¼í¼ ì´ˆê¸°í™” <span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#4-%ed%85%8c%eb%9d%bc%ed%8f%bc-%ec%b4%88%ea%b8%b0%ed%99%94 aria-label=Anchor>#</a></span></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ terraform init
</span></span></code></pre></div><p><code>terraform init</code> ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•˜ë©´ í´ë¼ìš°ë“œ ì œê³µì í”ŒëŸ¬ê·¸ì¸<sup>Provier plugin</sup>ì„ ì°¾ëŠ”ë‹¤.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ terraform init
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Initializing the backend...
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Initializing provider plugins...
</span></span><span class=line><span class=cl>- Finding latest version of hashicorp/aws...
</span></span><span class=line><span class=cl>- Installing hashicorp/aws v4.2.0...
</span></span><span class=line><span class=cl>- Installed hashicorp/aws v4.2.0 <span class=o>(</span>signed by HashiCorp<span class=o>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Terraform has created a lock file .terraform.lock.hcl to record the provider
</span></span><span class=line><span class=cl>selections it made above. Include this file in your version control repository
</span></span><span class=line><span class=cl>so that Terraform can guarantee to make the same selections by default when
</span></span><span class=line><span class=cl>you run <span class=s2>&#34;terraform init&#34;</span> in the future.
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Terraform has been successfully initialized!
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>You may now begin working with Terraform. Try running <span class=s2>&#34;terraform plan&#34;</span> to see
</span></span><span class=line><span class=cl>any changes that are required <span class=k>for</span> your infrastructure. All Terraform commands
</span></span><span class=line><span class=cl>should now work.
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>If you ever <span class=nb>set</span> or change modules or backend configuration <span class=k>for</span> Terraform,
</span></span><span class=line><span class=cl>rerun this <span class=nb>command</span> to reinitialize your working directory. If you forget, other
</span></span></code></pre></div><p>terraform ì´ˆê¸°í™”ê°€ ì‹œì‘ë˜ë©´ì„œ ìë™ìœ¼ë¡œ ìµœì‹  ë²„ì „ì˜ AWS í”ŒëŸ¬ê·¸ì¸ v4.2.0ì´ ì„¤ì¹˜ë˜ì—ˆë‹¤.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>...
</span></span><span class=line><span class=cl>- Installing hashicorp/aws v4.2.0...
</span></span><span class=line><span class=cl>- Installed hashicorp/aws v4.2.0 <span class=o>(</span>signed by HashiCorp<span class=o>)</span>
</span></span><span class=line><span class=cl>...
</span></span></code></pre></div><br><h3 id=5-í…Œë¼í¼-ì ìš© class="relative group">5. í…Œë¼í¼ ì ìš© <span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#5-%ed%85%8c%eb%9d%bc%ed%8f%bc-%ec%a0%81%ec%9a%a9 aria-label=Anchor>#</a></span></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ terraform apply
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ terraform apply
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Terraform used the selected providers to generate the following execution
</span></span><span class=line><span class=cl>plan. Resource actions are indicated with the following symbols:
</span></span><span class=line><span class=cl>  + create
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Terraform will perform the following actions:
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=c1># aws_instance.example will be created</span>
</span></span><span class=line><span class=cl>  + resource <span class=s2>&#34;aws_instance&#34;</span> <span class=s2>&#34;example&#34;</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>      + <span class=nv>ami</span>                                  <span class=o>=</span> <span class=s2>&#34;ami-0dd97ebb907cf9366&#34;</span>
</span></span><span class=line><span class=cl>      + <span class=nv>arn</span>                                  <span class=o>=</span> <span class=o>(</span>known after apply<span class=o>)</span>
</span></span><span class=line><span class=cl>      + <span class=nv>associate_public_ip_address</span>          <span class=o>=</span> <span class=o>(</span>known after apply<span class=o>)</span>
</span></span><span class=line><span class=cl>      + <span class=nv>availability_zone</span>                    <span class=o>=</span> <span class=o>(</span>known after apply<span class=o>)</span>
</span></span><span class=line><span class=cl>      + <span class=nv>cpu_core_count</span>                       <span class=o>=</span> <span class=o>(</span>known after apply<span class=o>)</span>
</span></span><span class=line><span class=cl>      + <span class=nv>cpu_threads_per_core</span>                 <span class=o>=</span> <span class=o>(</span>known after apply<span class=o>)</span>
</span></span><span class=line><span class=cl>      + <span class=nv>disable_api_termination</span>              <span class=o>=</span> <span class=o>(</span>known after apply<span class=o>)</span>
</span></span><span class=line><span class=cl>      + <span class=nv>ebs_optimized</span>                        <span class=o>=</span> <span class=o>(</span>known after apply<span class=o>)</span>
</span></span><span class=line><span class=cl>      + <span class=nv>get_password_data</span>                    <span class=o>=</span> <span class=nb>false</span>
</span></span><span class=line><span class=cl>      + <span class=nv>host_id</span>                              <span class=o>=</span> <span class=o>(</span>known after apply<span class=o>)</span>
</span></span><span class=line><span class=cl>      + <span class=nv>id</span>                                   <span class=o>=</span> <span class=o>(</span>known after apply<span class=o>)</span>
</span></span><span class=line><span class=cl>      + <span class=nv>instance_initiated_shutdown_behavior</span> <span class=o>=</span> <span class=o>(</span>known after apply<span class=o>)</span>
</span></span><span class=line><span class=cl>      + <span class=nv>instance_state</span>                       <span class=o>=</span> <span class=o>(</span>known after apply<span class=o>)</span>
</span></span><span class=line><span class=cl>      + <span class=nv>instance_type</span>                        <span class=o>=</span> <span class=s2>&#34;t2.micro&#34;</span>
</span></span><span class=line><span class=cl>      + <span class=nv>ipv6_address_count</span>                   <span class=o>=</span> <span class=o>(</span>known after apply<span class=o>)</span>
</span></span><span class=line><span class=cl>      + <span class=nv>ipv6_addresses</span>                       <span class=o>=</span> <span class=o>(</span>known after apply<span class=o>)</span>
</span></span><span class=line><span class=cl>      + <span class=nv>key_name</span>                             <span class=o>=</span> <span class=o>(</span>known after apply<span class=o>)</span>
</span></span><span class=line><span class=cl>      + <span class=nv>monitoring</span>                           <span class=o>=</span> <span class=o>(</span>known after apply<span class=o>)</span>
</span></span><span class=line><span class=cl>      + <span class=nv>outpost_arn</span>                          <span class=o>=</span> <span class=o>(</span>known after apply<span class=o>)</span>
</span></span><span class=line><span class=cl>      + <span class=nv>password_data</span>                        <span class=o>=</span> <span class=o>(</span>known after apply<span class=o>)</span>
</span></span><span class=line><span class=cl>      + <span class=nv>placement_group</span>                      <span class=o>=</span> <span class=o>(</span>known after apply<span class=o>)</span>
</span></span><span class=line><span class=cl>      + <span class=nv>placement_partition_number</span>           <span class=o>=</span> <span class=o>(</span>known after apply<span class=o>)</span>
</span></span><span class=line><span class=cl>      + <span class=nv>primary_network_interface_id</span>         <span class=o>=</span> <span class=o>(</span>known after apply<span class=o>)</span>
</span></span><span class=line><span class=cl>      + <span class=nv>private_dns</span>                          <span class=o>=</span> <span class=o>(</span>known after apply<span class=o>)</span>
</span></span><span class=line><span class=cl>      + <span class=nv>private_ip</span>                           <span class=o>=</span> <span class=o>(</span>known after apply<span class=o>)</span>
</span></span><span class=line><span class=cl>      + <span class=nv>public_dns</span>                           <span class=o>=</span> <span class=o>(</span>known after apply<span class=o>)</span>
</span></span><span class=line><span class=cl>      + <span class=nv>public_ip</span>                            <span class=o>=</span> <span class=o>(</span>known after apply<span class=o>)</span>
</span></span><span class=line><span class=cl>      + <span class=nv>secondary_private_ips</span>                <span class=o>=</span> <span class=o>(</span>known after apply<span class=o>)</span>
</span></span><span class=line><span class=cl>      + <span class=nv>security_groups</span>                      <span class=o>=</span> <span class=o>(</span>known after apply<span class=o>)</span>
</span></span><span class=line><span class=cl>      + <span class=nv>source_dest_check</span>                    <span class=o>=</span> <span class=nb>true</span>
</span></span><span class=line><span class=cl>      + <span class=nv>subnet_id</span>                            <span class=o>=</span> <span class=o>(</span>known after apply<span class=o>)</span>
</span></span><span class=line><span class=cl>      + <span class=nv>tags_all</span>                             <span class=o>=</span> <span class=o>(</span>known after apply<span class=o>)</span>
</span></span><span class=line><span class=cl>      + <span class=nv>tenancy</span>                              <span class=o>=</span> <span class=o>(</span>known after apply<span class=o>)</span>
</span></span><span class=line><span class=cl>      + <span class=nv>user_data</span>                            <span class=o>=</span> <span class=o>(</span>known after apply<span class=o>)</span>
</span></span><span class=line><span class=cl>      + <span class=nv>user_data_base64</span>                     <span class=o>=</span> <span class=o>(</span>known after apply<span class=o>)</span>
</span></span><span class=line><span class=cl>      + <span class=nv>vpc_security_group_ids</span>               <span class=o>=</span> <span class=o>(</span>known after apply<span class=o>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>      + capacity_reservation_specification <span class=o>{</span>
</span></span><span class=line><span class=cl>          + <span class=nv>capacity_reservation_preference</span> <span class=o>=</span> <span class=o>(</span>known after apply<span class=o>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>          + capacity_reservation_target <span class=o>{</span>
</span></span><span class=line><span class=cl>              + <span class=nv>capacity_reservation_id</span> <span class=o>=</span> <span class=o>(</span>known after apply<span class=o>)</span>
</span></span><span class=line><span class=cl>            <span class=o>}</span>
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>      + ebs_block_device <span class=o>{</span>
</span></span><span class=line><span class=cl>          + <span class=nv>delete_on_termination</span> <span class=o>=</span> <span class=o>(</span>known after apply<span class=o>)</span>
</span></span><span class=line><span class=cl>          + <span class=nv>device_name</span>           <span class=o>=</span> <span class=o>(</span>known after apply<span class=o>)</span>
</span></span><span class=line><span class=cl>          + <span class=nv>encrypted</span>             <span class=o>=</span> <span class=o>(</span>known after apply<span class=o>)</span>
</span></span><span class=line><span class=cl>          + <span class=nv>iops</span>                  <span class=o>=</span> <span class=o>(</span>known after apply<span class=o>)</span>
</span></span><span class=line><span class=cl>          + <span class=nv>kms_key_id</span>            <span class=o>=</span> <span class=o>(</span>known after apply<span class=o>)</span>
</span></span><span class=line><span class=cl>          + <span class=nv>snapshot_id</span>           <span class=o>=</span> <span class=o>(</span>known after apply<span class=o>)</span>
</span></span><span class=line><span class=cl>          + <span class=nv>tags</span>                  <span class=o>=</span> <span class=o>(</span>known after apply<span class=o>)</span>
</span></span><span class=line><span class=cl>          + <span class=nv>throughput</span>            <span class=o>=</span> <span class=o>(</span>known after apply<span class=o>)</span>
</span></span><span class=line><span class=cl>          + <span class=nv>volume_id</span>             <span class=o>=</span> <span class=o>(</span>known after apply<span class=o>)</span>
</span></span><span class=line><span class=cl>          + <span class=nv>volume_size</span>           <span class=o>=</span> <span class=o>(</span>known after apply<span class=o>)</span>
</span></span><span class=line><span class=cl>          + <span class=nv>volume_type</span>           <span class=o>=</span> <span class=o>(</span>known after apply<span class=o>)</span>
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>      + enclave_options <span class=o>{</span>
</span></span><span class=line><span class=cl>          + <span class=nv>enabled</span> <span class=o>=</span> <span class=o>(</span>known after apply<span class=o>)</span>
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>      + ephemeral_block_device <span class=o>{</span>
</span></span><span class=line><span class=cl>          + <span class=nv>device_name</span>  <span class=o>=</span> <span class=o>(</span>known after apply<span class=o>)</span>
</span></span><span class=line><span class=cl>          + <span class=nv>no_device</span>    <span class=o>=</span> <span class=o>(</span>known after apply<span class=o>)</span>
</span></span><span class=line><span class=cl>          + <span class=nv>virtual_name</span> <span class=o>=</span> <span class=o>(</span>known after apply<span class=o>)</span>
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>      + metadata_options <span class=o>{</span>
</span></span><span class=line><span class=cl>          + <span class=nv>http_endpoint</span>               <span class=o>=</span> <span class=o>(</span>known after apply<span class=o>)</span>
</span></span><span class=line><span class=cl>          + <span class=nv>http_put_response_hop_limit</span> <span class=o>=</span> <span class=o>(</span>known after apply<span class=o>)</span>
</span></span><span class=line><span class=cl>          + <span class=nv>http_tokens</span>                 <span class=o>=</span> <span class=o>(</span>known after apply<span class=o>)</span>
</span></span><span class=line><span class=cl>          + <span class=nv>instance_metadata_tags</span>      <span class=o>=</span> <span class=o>(</span>known after apply<span class=o>)</span>
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>      + network_interface <span class=o>{</span>
</span></span><span class=line><span class=cl>          + <span class=nv>delete_on_termination</span> <span class=o>=</span> <span class=o>(</span>known after apply<span class=o>)</span>
</span></span><span class=line><span class=cl>          + <span class=nv>device_index</span>          <span class=o>=</span> <span class=o>(</span>known after apply<span class=o>)</span>
</span></span><span class=line><span class=cl>          + <span class=nv>network_interface_id</span>  <span class=o>=</span> <span class=o>(</span>known after apply<span class=o>)</span>
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>      + root_block_device <span class=o>{</span>
</span></span><span class=line><span class=cl>          + <span class=nv>delete_on_termination</span> <span class=o>=</span> <span class=o>(</span>known after apply<span class=o>)</span>
</span></span><span class=line><span class=cl>          + <span class=nv>device_name</span>           <span class=o>=</span> <span class=o>(</span>known after apply<span class=o>)</span>
</span></span><span class=line><span class=cl>          + <span class=nv>encrypted</span>             <span class=o>=</span> <span class=o>(</span>known after apply<span class=o>)</span>
</span></span><span class=line><span class=cl>          + <span class=nv>iops</span>                  <span class=o>=</span> <span class=o>(</span>known after apply<span class=o>)</span>
</span></span><span class=line><span class=cl>          + <span class=nv>kms_key_id</span>            <span class=o>=</span> <span class=o>(</span>known after apply<span class=o>)</span>
</span></span><span class=line><span class=cl>          + <span class=nv>tags</span>                  <span class=o>=</span> <span class=o>(</span>known after apply<span class=o>)</span>
</span></span><span class=line><span class=cl>          + <span class=nv>throughput</span>            <span class=o>=</span> <span class=o>(</span>known after apply<span class=o>)</span>
</span></span><span class=line><span class=cl>          + <span class=nv>volume_id</span>             <span class=o>=</span> <span class=o>(</span>known after apply<span class=o>)</span>
</span></span><span class=line><span class=cl>          + <span class=nv>volume_size</span>           <span class=o>=</span> <span class=o>(</span>known after apply<span class=o>)</span>
</span></span><span class=line><span class=cl>          + <span class=nv>volume_type</span>           <span class=o>=</span> <span class=o>(</span>known after apply<span class=o>)</span>
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Plan: <span class=m>1</span> to add, <span class=m>0</span> to change, <span class=m>0</span> to destroy.
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Do you want to perform these actions?
</span></span><span class=line><span class=cl>  Terraform will perform the actions described above.
</span></span><span class=line><span class=cl>  Only <span class=s1>&#39;yes&#39;</span> will be accepted to approve.
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  Enter a value:
</span></span></code></pre></div><p>ì—„ì²­ë‚œ ì–‘ì˜ ìƒì„±ê³„íš(Plan) ì •ë³´ê°€ ì¶œë ¥ëœë‹¤. ì—¬ê¸°ì„œ <code>(known after apply)</code>ëŠ” ë§ê·¸ëŒ€ë¡œ ì‹¤ì œ ì ìš© í›„ì— í™•ì¸ ê°€ëŠ¥í•œ ê°’ì´ë¼ëŠ” ëœ»ì´ë‹¤.</p><br><p>ì‹¤í–‰ ì—¬ë¶€ë¥¼ ë¬»ëŠ” ì§ˆë¬¸ì— <code>yes</code> ë¥¼ ì…ë ¥ í›„ [Enter]</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>  Enter a value: yes
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>aws_instance.example: Creating...
</span></span><span class=line><span class=cl>aws_instance.example: Still creating... <span class=o>[</span>10s elapsed<span class=o>]</span>
</span></span><span class=line><span class=cl>aws_instance.example: Still creating... <span class=o>[</span>20s elapsed<span class=o>]</span>
</span></span><span class=line><span class=cl>aws_instance.example: Creation <span class=nb>complete</span> after 21s <span class=o>[</span><span class=nv>id</span><span class=o>=</span>i-082bf1d8b3de239c8<span class=o>]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Apply complete! Resources: <span class=m>1</span> added, <span class=m>0</span> changed, <span class=m>0</span> destroyed.
</span></span></code></pre></div><p>ë§ˆì§€ë§‰ ë¼ì¸ì— 1ê°œì˜ ë¦¬ì†ŒìŠ¤ê°€ ì •ìƒ ìƒì„±ë˜ì—ˆë‹¤(<code>1 added</code>)ê³  ê²°ê³¼ê°€ ì¶œë ¥ë˜ì—ˆë‹¤.</p><br><p>AWS Management Consoleì—ì„œë„ EC2 Instance 1ëŒ€ê°€ ìƒˆë¡œ ìƒì„±ë˜ì—ˆëŠ”ì§€ í™•ì¸í•´ë³¸ë‹¤.</p><p><figure><img class="my-0 rounded-md" src=./3.jpg alt></figure></p><p>EC2 Instance 1ëŒ€ê°€ ìƒì„±ëœ í›„ ì •ìƒ ë™ì‘ì¤‘(<code>Running</code>)ì´ë‹¤.</p><br><h3 id=6-ì‚­ì œ class="relative group">6. ì‚­ì œ <span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#6-%ec%82%ad%ec%a0%9c aria-label=Anchor>#</a></span></h3><p>EC2 Instanceë¥¼ ê³„ì† ì¼œë†“ìœ¼ë©´ ë¹„ìš©ì´ ë°œìƒí•œë‹¤. ì´ì œ Terraformìœ¼ë¡œ ìƒì„±í•œ EC2 Instanceë¥¼ ë‹¤ì‹œ ì‚­ì œí•´ë³´ì.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ terraform destroy
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ terraform destroy
</span></span><span class=line><span class=cl>aws_instance.example: Refreshing state... <span class=o>[</span><span class=nv>id</span><span class=o>=</span>i-082bf1d8b3de239c8<span class=o>]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Terraform used the selected providers to generate the following execution
</span></span><span class=line><span class=cl>plan. Resource actions are indicated with the following symbols:
</span></span><span class=line><span class=cl>  - destroy
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Terraform will perform the following actions:
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=c1># aws_instance.example will be destroyed</span>
</span></span><span class=line><span class=cl>  - resource <span class=s2>&#34;aws_instance&#34;</span> <span class=s2>&#34;example&#34;</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>      - <span class=nv>ami</span>                                  <span class=o>=</span> <span class=s2>&#34;ami-0dd97ebb907cf9366&#34;</span> -&gt; null
</span></span><span class=line><span class=cl>      - <span class=nv>arn</span>                                  <span class=o>=</span> <span class=s2>&#34;arn:aws:ec2:ap-northeast-2:516381095819:instance/i-082bf1d8b3de239c8&#34;</span> -&gt; null
</span></span><span class=line><span class=cl>      - <span class=nv>associate_public_ip_address</span>          <span class=o>=</span> <span class=nb>true</span> -&gt; null
</span></span><span class=line><span class=cl>      - <span class=nv>availability_zone</span>                    <span class=o>=</span> <span class=s2>&#34;ap-northeast-2a&#34;</span> -&gt; null
</span></span><span class=line><span class=cl>      - <span class=nv>cpu_core_count</span>                       <span class=o>=</span> <span class=m>1</span> -&gt; null
</span></span><span class=line><span class=cl>      - <span class=nv>cpu_threads_per_core</span>                 <span class=o>=</span> <span class=m>1</span> -&gt; null
</span></span><span class=line><span class=cl>      - <span class=nv>disable_api_termination</span>              <span class=o>=</span> <span class=nb>false</span> -&gt; null
</span></span><span class=line><span class=cl>      - <span class=nv>ebs_optimized</span>                        <span class=o>=</span> <span class=nb>false</span> -&gt; null
</span></span><span class=line><span class=cl>      - <span class=nv>get_password_data</span>                    <span class=o>=</span> <span class=nb>false</span> -&gt; null
</span></span><span class=line><span class=cl>      - <span class=nv>hibernation</span>                          <span class=o>=</span> <span class=nb>false</span> -&gt; null
</span></span><span class=line><span class=cl>      - <span class=nv>id</span>                                   <span class=o>=</span> <span class=s2>&#34;i-082bf1d8b3de239c8&#34;</span> -&gt; null
</span></span><span class=line><span class=cl>      - <span class=nv>instance_initiated_shutdown_behavior</span> <span class=o>=</span> <span class=s2>&#34;stop&#34;</span> -&gt; null
</span></span><span class=line><span class=cl>      - <span class=nv>instance_state</span>                       <span class=o>=</span> <span class=s2>&#34;running&#34;</span> -&gt; null
</span></span><span class=line><span class=cl>      - <span class=nv>instance_type</span>                        <span class=o>=</span> <span class=s2>&#34;t2.micro&#34;</span> -&gt; null
</span></span><span class=line><span class=cl>      - <span class=nv>ipv6_address_count</span>                   <span class=o>=</span> <span class=m>0</span> -&gt; null
</span></span><span class=line><span class=cl>      - <span class=nv>ipv6_addresses</span>                       <span class=o>=</span> <span class=o>[]</span> -&gt; null
</span></span><span class=line><span class=cl>      - <span class=nv>monitoring</span>                           <span class=o>=</span> <span class=nb>false</span> -&gt; null
</span></span><span class=line><span class=cl>      - <span class=nv>primary_network_interface_id</span>         <span class=o>=</span> <span class=s2>&#34;eni-0ca186f601dfde6d4&#34;</span> -&gt; null
</span></span><span class=line><span class=cl>      - <span class=nv>private_dns</span>                          <span class=o>=</span> <span class=s2>&#34;ip-172-31-0-60.ap-northeast-2.compute.internal&#34;</span> -&gt; null
</span></span><span class=line><span class=cl>      - <span class=nv>private_ip</span>                           <span class=o>=</span> <span class=s2>&#34;172.31.0.60&#34;</span> -&gt; null
</span></span><span class=line><span class=cl>      - <span class=nv>public_dns</span>                           <span class=o>=</span> <span class=s2>&#34;ec2-3-35-219-159.ap-northeast-2.compute.amazonaws.com&#34;</span> -&gt; null
</span></span><span class=line><span class=cl>      - <span class=nv>public_ip</span>                            <span class=o>=</span> <span class=s2>&#34;3.35.219.159&#34;</span> -&gt; null
</span></span><span class=line><span class=cl>      - <span class=nv>secondary_private_ips</span>                <span class=o>=</span> <span class=o>[]</span> -&gt; null
</span></span><span class=line><span class=cl>      - <span class=nv>security_groups</span>                      <span class=o>=</span> <span class=o>[</span>
</span></span><span class=line><span class=cl>          - <span class=s2>&#34;default&#34;</span>,
</span></span><span class=line><span class=cl>        <span class=o>]</span> -&gt; null
</span></span><span class=line><span class=cl>      - <span class=nv>source_dest_check</span>                    <span class=o>=</span> <span class=nb>true</span> -&gt; null
</span></span><span class=line><span class=cl>      - <span class=nv>subnet_id</span>                            <span class=o>=</span> <span class=s2>&#34;subnet-8d7ec4e6&#34;</span> -&gt; null
</span></span><span class=line><span class=cl>      - <span class=nv>tags</span>                                 <span class=o>=</span> <span class=o>{}</span> -&gt; null
</span></span><span class=line><span class=cl>      - <span class=nv>tags_all</span>                             <span class=o>=</span> <span class=o>{}</span> -&gt; null
</span></span><span class=line><span class=cl>      - <span class=nv>tenancy</span>                              <span class=o>=</span> <span class=s2>&#34;default&#34;</span> -&gt; null
</span></span><span class=line><span class=cl>      - <span class=nv>vpc_security_group_ids</span>               <span class=o>=</span> <span class=o>[</span>
</span></span><span class=line><span class=cl>          - <span class=s2>&#34;sg-58799024&#34;</span>,
</span></span><span class=line><span class=cl>        <span class=o>]</span> -&gt; null
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>      - capacity_reservation_specification <span class=o>{</span>
</span></span><span class=line><span class=cl>          - <span class=nv>capacity_reservation_preference</span> <span class=o>=</span> <span class=s2>&#34;open&#34;</span> -&gt; null
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>      - credit_specification <span class=o>{</span>
</span></span><span class=line><span class=cl>          - <span class=nv>cpu_credits</span> <span class=o>=</span> <span class=s2>&#34;standard&#34;</span> -&gt; null
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>      - enclave_options <span class=o>{</span>
</span></span><span class=line><span class=cl>          - <span class=nv>enabled</span> <span class=o>=</span> <span class=nb>false</span> -&gt; null
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>      - metadata_options <span class=o>{</span>
</span></span><span class=line><span class=cl>          - <span class=nv>http_endpoint</span>               <span class=o>=</span> <span class=s2>&#34;enabled&#34;</span> -&gt; null
</span></span><span class=line><span class=cl>          - <span class=nv>http_put_response_hop_limit</span> <span class=o>=</span> <span class=m>1</span> -&gt; null
</span></span><span class=line><span class=cl>          - <span class=nv>http_tokens</span>                 <span class=o>=</span> <span class=s2>&#34;optional&#34;</span> -&gt; null
</span></span><span class=line><span class=cl>          - <span class=nv>instance_metadata_tags</span>      <span class=o>=</span> <span class=s2>&#34;disabled&#34;</span> -&gt; null
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>      - root_block_device <span class=o>{</span>
</span></span><span class=line><span class=cl>          - <span class=nv>delete_on_termination</span> <span class=o>=</span> <span class=nb>true</span> -&gt; null
</span></span><span class=line><span class=cl>          - <span class=nv>device_name</span>           <span class=o>=</span> <span class=s2>&#34;/dev/sda1&#34;</span> -&gt; null
</span></span><span class=line><span class=cl>          - <span class=nv>encrypted</span>             <span class=o>=</span> <span class=nb>false</span> -&gt; null
</span></span><span class=line><span class=cl>          - <span class=nv>iops</span>                  <span class=o>=</span> <span class=m>100</span> -&gt; null
</span></span><span class=line><span class=cl>          - <span class=nv>tags</span>                  <span class=o>=</span> <span class=o>{}</span> -&gt; null
</span></span><span class=line><span class=cl>          - <span class=nv>throughput</span>            <span class=o>=</span> <span class=m>0</span> -&gt; null
</span></span><span class=line><span class=cl>          - <span class=nv>volume_id</span>             <span class=o>=</span> <span class=s2>&#34;vol-01302622a80fb4b39&#34;</span> -&gt; null
</span></span><span class=line><span class=cl>          - <span class=nv>volume_size</span>           <span class=o>=</span> <span class=m>8</span> -&gt; null
</span></span><span class=line><span class=cl>          - <span class=nv>volume_type</span>           <span class=o>=</span> <span class=s2>&#34;gp2&#34;</span> -&gt; null
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Plan: <span class=m>0</span> to add, <span class=m>0</span> to change, <span class=m>1</span> to destroy.
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Do you really want to destroy all resources?
</span></span><span class=line><span class=cl>  Terraform will destroy all your managed infrastructure, as shown above.
</span></span><span class=line><span class=cl>  There is no undo. Only <span class=s1>&#39;yes&#39;</span> will be accepted to confirm.
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  Enter a value:
</span></span></code></pre></div><p>ì‚­ì œë¥¼ ì‹¤í–‰í•˜ë©´ ëŒ€ëŸ‰ì˜ ìƒíƒœ ì •ë³´ê°€ ë°”ë€” ê²ƒì„ ë¯¸ë¦¬ ì•Œë ¤ì£¼ë©´ì„œ, ì •ë§ë¡œ ì‹¤í–‰í•  ê²ƒì¸ì§€ ë¬»ëŠ”ë‹¤.<br><code>yes</code> ì…ë ¥ í›„ [Enter] í‚¤ë¥¼ ì…ë ¥í•œë‹¤.</p><br><p>EC2 Instance 1ëŒ€ë¥¼ ì œê±°í•˜ëŠ” ë° ì•½ 40ì´ˆ ê±¸ë ¸ë‹¤.<br>EC2 Instanceë¥¼ ë§Œë“¤ë©´ì„œ ì¶”ê°€ì ìœ¼ë¡œ ìƒì„±ëœ ë‹¤ë¥¸ ìì›ë“¤ì´ ìƒê°ë³´ë‹¤ ë§ê¸° ë•Œë¬¸ì´ë‹¤. (EBS, Security Group, ENI ë“±)</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>  Enter a value: yes
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>aws_instance.example: Destroying... <span class=o>[</span><span class=nv>id</span><span class=o>=</span>i-082bf1d8b3de239c8<span class=o>]</span>
</span></span><span class=line><span class=cl>aws_instance.example: Still destroying... <span class=o>[</span><span class=nv>id</span><span class=o>=</span>i-082bf1d8b3de239c8, 10s elapsed<span class=o>]</span>
</span></span><span class=line><span class=cl>aws_instance.example: Still destroying... <span class=o>[</span><span class=nv>id</span><span class=o>=</span>i-082bf1d8b3de239c8, 20s elapsed<span class=o>]</span>
</span></span><span class=line><span class=cl>aws_instance.example: Still destroying... <span class=o>[</span><span class=nv>id</span><span class=o>=</span>i-082bf1d8b3de239c8, 30s elapsed<span class=o>]</span>
</span></span><span class=line><span class=cl>aws_instance.example: Destruction <span class=nb>complete</span> after 40s
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Destroy complete! Resources: <span class=m>1</span> destroyed.
</span></span></code></pre></div><p>ë§ˆì§€ë§‰ ì¤„ì— 1ê°œì˜ ë¦¬ì†ŒìŠ¤ê°€ ì •ìƒ ì‚­ì œë˜ì—ˆë‹¤ê³  ë‚˜ì˜¨ë‹¤. (<code>1 destroyed.</code>)</p><br><p><figure><img class="my-0 rounded-md" src=./4.png alt></figure></p><p>AWS Management Consoleì—ì„œ í™•ì¸í•´ë´ë„ EC2 Instanceê°€ ì‚­ì œ(<code>Terminated</code>)ëœ ê²ƒì„ ë³¼ ìˆ˜ ìˆë‹¤.</p><br><h1 id=ê²°ë¡  class="relative group">ê²°ë¡  <span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#%ea%b2%b0%eb%a1%a0 aria-label=Anchor>#</a></span></h1><p>ì½”ë“œë¡œ ì¸í”„ë¼ë¥¼ ê´€ë¦¬í•˜ë©´ ì¼ê´€ì„± ìˆëŠ” ìƒíƒœë¥¼ ìœ ì§€í•˜ê³ , ì´ë ¥ ê´€ë¦¬ë„ í¸í•˜ë©°, ì¸í”„ë¼ ë°°í¬/ê´€ë¦¬ë¥¼ ìë™í™”í•  ìˆ˜ ìˆë‹¤.<br>í¸í•˜ê²Œ ì¼í•˜ê³  ì‹¶ì€ Cloud Engineerë¼ë©´ ì¸í”„ë¼ êµ¬ì¶• ìë™í™” íˆ´ì¸ Terraformì„ ê¼­ ë°°ì›Œë†“ì!</p></div></section><footer class="pt-8 max-w-prose print:hidden"><script src=https://utteranc.es/client.js repo=seyslee/seyslee.github.io issue-term=pathname label=blog-comment theme=github-dark crossorigin=anonymous async></script></footer></article></main><footer class="py-10 print:hidden"><div class="flex justify-between"><div><p class="text-sm text-neutral-500 dark:text-neutral-400">&copy;
2022
Younsung Lee</p></div></div></footer></div></body></html>